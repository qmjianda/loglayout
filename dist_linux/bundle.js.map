{
  "version": 3,
  "sources": ["../index.tsx", "../App.tsx", "../components/Sidebar.tsx", "../components/LogViewer.tsx", "../components/LayersPanel.tsx", "../components/SearchInput.tsx", "../components/SearchPanel.tsx", "../components/EditorFindWidget.tsx", "../components/EditorGoToLineWidget.tsx", "../components/PresetPanel.tsx", "../components/ExplorerPanel.tsx", "../components/HelpPanel.tsx", "../components/StatusBar.tsx", "../processors/filterProcessor.ts", "../processors/highlightProcessor.ts", "../processors/rangeProcessor.ts", "../processors/timeRangeProcessor.ts", "../processors/levelProcessor.ts", "../processors/transformProcessor.ts", "../processors/index.ts"],
  "sourcesContent": ["\nimport React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport App from './App';\n\nconst rootElement = document.getElementById('root');\nif (!rootElement) {\n  throw new Error(\"Could not find root element to mount to\");\n}\n\nconst root = createRoot(rootElement);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n", "import React, { useState, useMemo, useEffect, useCallback, useRef } from 'react';\nimport { Sidebar } from './components/Sidebar';\nimport { LogViewer } from './components/LogViewer';\nimport { LayersPanel } from './components/LayersPanel';\nimport { SearchPanel } from './components/SearchPanel';\nimport { EditorFindWidget } from './components/EditorFindWidget';\nimport { EditorGoToLineWidget } from './components/EditorGoToLineWidget';\nimport { PresetPanel } from './components/PresetPanel';\nimport { ExplorerPanel } from './components/ExplorerPanel';\nimport { HelpPanel } from './components/HelpPanel';\nimport { StatusBar } from './components/StatusBar';\nimport { LogLayer, LayerType, LogLine, LayerPreset } from './types';\nimport { processLayer } from './processors/index';\n\nconst DEFAULT_PRESET_ID = 'system-default-preset';\nconst MAX_HISTORY = 100;\n\nconst App: React.FC = () => {\n  const [activeView, setActiveView] = useState<'explorer' | 'search' | 'layers' | 'presets' | 'help'>('layers');\n  const [selectedLayerId, setSelectedLayerId] = useState<string | null>(null);\n  const [saveStatus, setSaveStatus] = useState<'idle' | 'saved'>('idle');\n  const [scrollToIndex, setScrollToIndex] = useState<number | null>(null);\n  const [highlightedIndex, setHighlightedIndex] = useState<number | null>(null);\n  const [isFindVisible, setIsFindVisible] = useState(false);\n  const [isGoToLineVisible, setIsGoToLineVisible] = useState(false);\n  \n  // Data State\n  const [rawLogs, setRawLogs] = useState<string[]>([]);\n  const [processedLogs, setProcessedLogs] = useState<LogLine[]>([]);\n  const [layerStats, setLayerStats] = useState<Record<string, { count: number; distribution: number[] }>>({});\n  const [rawStats, setRawStats] = useState<Record<string, number[]>>({});\n\n  // Layers state with history\n  const [layers, setLayersInternal] = useState<LogLayer[]>([]);\n  const [past, setPast] = useState<LogLayer[][]>([]);\n  const [future, setFuture] = useState<LogLayer[][]>([]);\n\n  const [presets, setPresets] = useState<LayerPreset[]>([]);\n  const [fileName, setFileName] = useState<string>('');\n  const [fileSize, setFileSize] = useState<number>(0);\n  const [loadingProgress, setLoadingProgress] = useState<number>(0);\n  const [isProcessing, setIsProcessing] = useState<boolean>(false);\n  const [isLayerProcessing, setIsLayerProcessing] = useState<boolean>(false);\n  \n  // Search state\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchConfig, setSearchConfig] = useState({ regex: false, caseSensitive: false, wholeWord: false });\n  const [currentMatchIndex, setCurrentMatchIndex] = useState(-1);\n\n  const loadingAbortController = useRef<AbortController | null>(null);\n  const processingTaskId = useRef<number>(0);\n\n  // Helper to update layers with history\n  const updateLayers = useCallback((updater: LogLayer[] | ((prev: LogLayer[]) => LogLayer[]), skipHistory = false) => {\n    setLayersInternal(prev => {\n      const next = typeof updater === 'function' ? updater(prev) : updater;\n      if (!skipHistory && JSON.stringify(prev) !== JSON.stringify(next)) {\n        setPast(p => [...p.slice(-(MAX_HISTORY - 1)), prev]);\n        setFuture([]);\n      }\n      return next;\n    });\n  }, []);\n\n  const undo = useCallback(() => {\n    setPast(p => {\n      if (p.length === 0) return p;\n      const previous = p[p.length - 1];\n      setLayersInternal(current => {\n        setFuture(f => [current, ...f.slice(0, MAX_HISTORY - 1)]);\n        return previous;\n      });\n      return p.slice(0, -1);\n    });\n  }, []);\n\n  const redo = useCallback(() => {\n    setFuture(f => {\n      if (f.length === 0) return f;\n      const next = f[0];\n      setLayersInternal(current => {\n        setPast(p => [...p.slice(-(MAX_HISTORY - 1)), current]);\n        return next;\n      });\n      return f.slice(1);\n    });\n  }, []);\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      const isZ = e.key.toLowerCase() === 'z';\n      const isY = e.key.toLowerCase() === 'y';\n      const isF = e.key.toLowerCase() === 'f';\n      const isG = e.key.toLowerCase() === 'g';\n      const isCmdOrCtrl = e.metaKey || e.ctrlKey;\n      const isShift = e.shiftKey;\n\n      if (isCmdOrCtrl && isZ) {\n        e.preventDefault();\n        if (isShift) redo();\n        else undo();\n      } else if (isCmdOrCtrl && isY) {\n        e.preventDefault();\n        redo();\n      } else if (isCmdOrCtrl && isF) {\n        e.preventDefault();\n        const selection = window.getSelection()?.toString();\n        if (selection) {\n          const firstLine = selection.split(/\\r?\\n/)[0].trim();\n          if (firstLine) {\n            setSearchQuery(firstLine);\n          }\n        }\n        setIsFindVisible(true);\n      } else if (isCmdOrCtrl && isG) {\n        e.preventDefault();\n        setIsGoToLineVisible(true);\n      } else if (e.key === 'Escape') {\n        if (isFindVisible) setIsFindVisible(false);\n        if (isGoToLineVisible) setIsGoToLineVisible(false);\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [undo, redo, isFindVisible, isGoToLineVisible]);\n\n  // \u521D\u59CB\u5316\u52A0\u8F7D\u9884\u8BBE\u5E76\u5E94\u7528\u9ED8\u8BA4\u503C\n  useEffect(() => {\n    const saved = localStorage.getItem('loglayer_presets');\n    let initialPresets: LayerPreset[] = [];\n    \n    if (saved) {\n      try {\n        initialPresets = JSON.parse(saved);\n      } catch (e) {\n        console.error(\"Failed to load presets\", e);\n      }\n    }\n\n    let defaultPreset = initialPresets.find(p => p.id === DEFAULT_PRESET_ID || p.name === '\u9ED8\u8BA4' || p.name === 'Default');\n    \n    if (!defaultPreset) {\n      defaultPreset = {\n        id: DEFAULT_PRESET_ID,\n        name: '\u9ED8\u8BA4\u9884\u8BBE',\n        layers: [\n          { id: 'folder-1', name: '\u7CFB\u7EDF\u65E5\u5FD7', type: LayerType.FOLDER, enabled: true, isCollapsed: false, config: {} },\n          { id: '1', name: '\u4EC5\u9650\u9519\u8BEF', type: LayerType.LEVEL, enabled: true, groupId: 'folder-1', config: { levels: ['ERROR', 'FATAL'] } }\n        ]\n      };\n      initialPresets.unshift(defaultPreset);\n    } else {\n      defaultPreset.id = DEFAULT_PRESET_ID;\n    }\n\n    setPresets(initialPresets);\n    updateLayers(JSON.parse(JSON.stringify(defaultPreset.layers)), true);\n    localStorage.setItem('loglayer_presets', JSON.stringify(initialPresets));\n  }, [updateLayers]);\n\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    if (loadingAbortController.current) loadingAbortController.current.abort();\n    loadingAbortController.current = new AbortController();\n    \n    setFileName(file.name);\n    setFileSize(file.size);\n    setRawLogs([]);\n    setLoadingProgress(0);\n    setIsProcessing(true);\n\n    const stream = file.stream();\n    const reader = stream.getReader();\n    const decoder = new TextDecoder();\n    let partialLine = '';\n    let loadedBytes = 0;\n    const batchSize = 500000; \n    let currentBatch: string[] = [];\n\n    try {\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n\n        loadedBytes += value.byteLength;\n        const chunk = decoder.decode(value, { stream: true });\n        const lines = (partialLine + chunk).split(/\\r?\\n/);\n        partialLine = lines.pop() || '';\n\n        for (let i = 0; i < lines.length; i++) {\n          currentBatch.push(lines[i]);\n          if (currentBatch.length >= batchSize) {\n            setRawLogs(prev => prev.concat(currentBatch)); \n            currentBatch = [];\n            setLoadingProgress(Math.round((loadedBytes / file.size) * 100));\n            await new Promise(resolve => setTimeout(resolve, 0));\n          }\n        }\n      }\n\n      if (partialLine || currentBatch.length > 0) {\n        if (partialLine) currentBatch.push(partialLine);\n        setRawLogs(prev => prev.concat(currentBatch));\n      }\n      setLoadingProgress(100);\n    } catch (err) {\n      if ((err as Error).name !== 'AbortError') console.error(\"Error reading file:\", err);\n    } finally {\n      setIsProcessing(false);\n      loadingAbortController.current = null;\n    }\n  };\n\n  const runAsyncProcessing = useCallback(async (currentRawLogs: string[], currentLayers: LogLayer[], currentSearchQuery: string, currentSearchConfig: any) => {\n    const taskId = ++processingTaskId.current;\n    setIsLayerProcessing(true);\n\n    const stats: Record<string, { count: number; distribution: number[] }> = {};\n    const rawCounts: Record<string, number[]> = {};\n    \n    currentLayers.forEach(l => {\n      stats[l.id] = { count: 0, distribution: new Array(20).fill(0) };\n      rawCounts[l.id] = new Array(20).fill(0);\n    });\n\n    if (!currentRawLogs.length) {\n      setProcessedLogs([]);\n      setLayerStats(stats);\n      setIsLayerProcessing(false);\n      return;\n    }\n\n    const pipelineLayers = [...currentLayers];\n    let searchLayerId = 'global-search-volatile';\n    if (currentSearchQuery) {\n      pipelineLayers.push({\n        id: searchLayerId,\n        name: '\u5168\u5C40\u641C\u7D22',\n        type: LayerType.HIGHLIGHT,\n        enabled: true,\n        config: { \n          query: currentSearchQuery, \n          ...currentSearchConfig,\n          color: '#facc15', \n          opacity: 100 \n        }\n      });\n      stats[searchLayerId] = { count: 0, distribution: new Array(20).fill(0) };\n    }\n\n    const activeLayers = pipelineLayers.filter(l => {\n      if (!l.enabled || l.type === LayerType.FOLDER) return false;\n      if (l.groupId) {\n        const parent = currentLayers.find(p => p.id === l.groupId);\n        if (parent && !parent.enabled) return false;\n      }\n      return true;\n    });\n\n    let activeLines: LogLine[] | null = null;\n    let isObjectified = false;\n\n    for (const layer of activeLayers) {\n      if (taskId !== processingTaskId.current) return;\n      const startTime = performance.now();\n      const needsObject = layer.type === LayerType.HIGHLIGHT || layer.type === LayerType.TRANSFORM;\n\n      if (needsObject && !isObjectified) {\n        const source = activeLines ? activeLines : null;\n        const totalToProcess = source ? source.length : currentRawLogs.length;\n        const newLines: LogLine[] = new Array(totalToProcess);\n        const step = 200000;\n        for (let i = 0; i < totalToProcess; i += step) {\n          if (taskId !== processingTaskId.current) return;\n          const end = Math.min(i + step, totalToProcess);\n          for (let j = i; j < end; j++) {\n            newLines[j] = source ? source[j] : { index: j, content: currentRawLogs[j] };\n          }\n          if (performance.now() - startTime > 30) await new Promise(r => setTimeout(r, 0));\n        }\n        activeLines = newLines;\n        isObjectified = true;\n      }\n\n      const input: LogLine[] = activeLines || currentRawLogs.map((c, i) => ({ index: i, content: c }));\n      const chunkSize = Math.max(1, Math.ceil(input.length / 20));\n      const { processedLines, stats: layerResult } = processLayer(input, layer, chunkSize);\n      activeLines = processedLines;\n      const maxDist = Math.max(...layerResult.distribution, 1);\n      stats[layer.id] = { count: layerResult.count, distribution: layerResult.distribution.map(v => v / maxDist) };\n      await new Promise(r => setTimeout(r, 5));\n    }\n\n    let finalLines: LogLine[] = activeLines || [];\n    if (!activeLines && currentRawLogs.length > 0) {\n        finalLines = new Array(currentRawLogs.length);\n        for(let i=0; i<currentRawLogs.length; i++) finalLines[i] = { index: i, content: currentRawLogs[i] };\n    }\n\n    if (taskId === processingTaskId.current) {\n      setProcessedLogs(finalLines);\n      setLayerStats(stats);\n      setRawStats(rawCounts);\n      setIsLayerProcessing(false);\n      setCurrentMatchIndex(-1);\n    }\n  }, []);\n\n  useEffect(() => {\n    const debounceTime = rawLogs.length > 5000000 ? 1500 : (rawLogs.length > 1000000 ? 800 : 250);\n    const timer = setTimeout(() => {\n      runAsyncProcessing(rawLogs, layers, searchQuery, searchConfig);\n    }, debounceTime);\n    return () => clearTimeout(timer);\n  }, [rawLogs, layers, searchQuery, searchConfig, runAsyncProcessing]);\n\n  const addLayer = (type: LayerType) => {\n    const newId = Math.random().toString(36).substr(2, 9);\n    let parentId: string | undefined = undefined;\n    if (selectedLayerId) {\n      const selected = layers.find(l => l.id === selectedLayerId);\n      if (selected?.type === LayerType.FOLDER) parentId = selected.id;\n      else if (selected?.groupId) parentId = selected.groupId;\n    }\n\n    const newLayer: LogLayer = {\n      id: newId,\n      name: type === LayerType.FOLDER ? '\u65B0\u5EFA\u6587\u4EF6\u5939' : \n            type === LayerType.TIME_RANGE ? '\u65F6\u95F4\u8FC7\u6EE4' : \n            type === LayerType.RANGE ? '\u884C\u53F7\u8303\u56F4' :\n            type === LayerType.TRANSFORM ? '\u5185\u5BB9\u8F6C\u6362' :\n            type === LayerType.LEVEL ? '\u65E5\u5FD7\u7B49\u7EA7' : \n            type === LayerType.FILTER ? '\u5185\u5BB9\u8FC7\u6EE4' :\n            type === LayerType.HIGHLIGHT ? '\u9AD8\u4EAE\u56FE\u5C42' : '\u65B0\u5EFA\u56FE\u5C42',\n      type, enabled: true, groupId: parentId, isCollapsed: false,\n      config: type === LayerType.HIGHLIGHT ? { color: '#3b82f6', opacity: 100, query: '' } : \n              type === LayerType.TIME_RANGE ? { startTime: '', endTime: '', timeFormat: '(\\\\d{4}-\\\\d{2}-\\\\d{2}\\\\s\\\\d{2}:\\\\d{2}:\\\\d{2})' } : \n              type === LayerType.RANGE ? { from: 1, to: 1000 } :\n              type === LayerType.TRANSFORM ? { query: '', replaceWith: '', regex: true } : \n              type === LayerType.LEVEL ? { levels: ['ERROR', 'WARN'] } : {}\n    };\n    updateLayers(prev => [...prev, newLayer]);\n    setSelectedLayerId(newId);\n  };\n\n  const handleDrop = useCallback((draggedId: string, targetId: string | null, position: 'inside' | 'before' | 'after') => {\n    updateLayers(prev => {\n      const next = [...prev];\n      const draggedIdx = next.findIndex(l => l.id === draggedId);\n      if (draggedIdx === -1) return prev;\n      const [draggedLayer] = next.splice(draggedIdx, 1);\n      if (position === 'inside' && targetId) {\n        draggedLayer.groupId = targetId;\n        const targetIdx = next.findIndex(l => l.id === targetId);\n        next.splice(targetIdx + 1, 0, draggedLayer);\n      } else if (targetId) {\n        const targetIdx = next.findIndex(l => l.id === targetId);\n        draggedLayer.groupId = next[targetIdx].groupId;\n        const finalIdx = position === 'before' ? targetIdx : targetIdx + 1;\n        next.splice(finalIdx, 0, draggedLayer);\n      } else {\n        draggedLayer.groupId = undefined;\n        next.push(draggedLayer);\n      }\n      return next;\n    });\n  }, [updateLayers]);\n\n  const handleJumpToLine = (index: number) => {\n    const total = processedLogs.length;\n    if (total === 0) return;\n    \n    const boundedIndex = Math.max(0, Math.min(index, total - 1));\n    setScrollToIndex(boundedIndex);\n    setHighlightedIndex(boundedIndex);\n    setTimeout(() => setScrollToIndex(null), 50);\n  };\n\n  const handleLogViewerInteraction = () => {\n    if (highlightedIndex !== null) {\n      setHighlightedIndex(null);\n    }\n    if (!isFindVisible && activeView !== 'search' && searchQuery) {\n      setSearchQuery('');\n    }\n  };\n\n  const findNextSearchMatch = useCallback((direction: 'next' | 'prev') => {\n    if (!searchQuery || processedLogs.length === 0) return;\n\n    let re: RegExp;\n    try {\n      let pattern = searchConfig.regex ? searchQuery : searchQuery.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n      if (searchConfig.wholeWord) pattern = `\\\\b${pattern}\\\\b`;\n      re = new RegExp(pattern, searchConfig.caseSensitive ? '' : 'i');\n    } catch (e) { return; }\n\n    const startIndex = currentMatchIndex === -1 ? 0 : currentMatchIndex;\n    let nextIdx = -1;\n\n    if (direction === 'next') {\n      for (let i = startIndex + 1; i < processedLogs.length; i++) {\n        if (re.test(processedLogs[i].content)) { nextIdx = i; break; }\n      }\n      if (nextIdx === -1) {\n        for (let i = 0; i <= startIndex; i++) {\n          if (re.test(processedLogs[i].content)) { nextIdx = i; break; }\n        }\n      }\n    } else {\n      for (let i = startIndex - 1; i >= 0; i--) {\n        if (re.test(processedLogs[i].content)) { nextIdx = i; break; }\n      }\n      if (nextIdx === -1) {\n        for (let i = processedLogs.length - 1; i >= startIndex; i--) {\n          if (re.test(processedLogs[i].content)) { nextIdx = i; break; }\n        }\n      }\n    }\n\n    if (nextIdx !== -1) {\n      setCurrentMatchIndex(nextIdx);\n      handleJumpToLine(nextIdx);\n    }\n  }, [searchQuery, processedLogs, searchConfig, currentMatchIndex, handleJumpToLine]);\n\n  const handleSavePreset = () => {\n    const presetName = prompt(\"\u8F93\u5165\u9884\u8BBE\u540D\u79F0 (\u8F93\u5165 '\u9ED8\u8BA4' \u5C06\u66F4\u65B0\u7CFB\u7EDF\u8BBE\u7F6E):\");\n    if (!presetName) return;\n\n    setPresets(prev => {\n      let next = [...prev];\n      const existingIdx = next.findIndex(p => p.name.toLowerCase() === presetName.toLowerCase());\n      const newPreset = { \n        id: existingIdx >= 0 ? next[existingIdx].id : Date.now().toString(), \n        name: existingIdx >= 0 ? next[existingIdx].name : presetName, \n        layers: JSON.parse(JSON.stringify(layers)) \n      };\n      if (existingIdx >= 0) next[existingIdx] = newPreset;\n      else next = [newPreset, ...next];\n      localStorage.setItem('loglayer_presets', JSON.stringify(next));\n      return next;\n    });\n    setSaveStatus('saved'); \n    setTimeout(()=>setSaveStatus('idle'), 1000); \n  };\n\n  const activeStats = useMemo(() => ({ ...layerStats }), [layerStats]);\n  const searchMatchCount = useMemo(() => layerStats['global-search-volatile']?.count || 0, [layerStats]);\n\n  const currentMatchNumber = useMemo(() => {\n    if (currentMatchIndex === -1 || !searchQuery) return 0;\n    let re: RegExp;\n    try {\n      let pattern = searchConfig.regex ? searchQuery : searchQuery.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n      if (searchConfig.wholeWord) pattern = `\\\\b${pattern}\\\\b`;\n      re = new RegExp(pattern, searchConfig.caseSensitive ? '' : 'i');\n    } catch (e) { return 0; }\n    let count = 0;\n    for (let i = 0; i <= currentMatchIndex; i++) {\n      if (re.test(processedLogs[i].content)) count++;\n    }\n    return count;\n  }, [currentMatchIndex, searchQuery, searchConfig, processedLogs]);\n\n  return (\n    <div className=\"flex flex-col h-screen select-none overflow-hidden text-sm bg-[#1e1e1e] text-[#cccccc]\">\n      <div className=\"h-9 bg-[#2d2d2d] flex items-center px-4 border-b border-[#111] shrink-0 justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          <span className=\"text-blue-400 font-black tracking-tighter flex items-center cursor-default\">\n            <svg className=\"w-5 h-5 mr-2\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M12 2L2 7l10 5 10-5-10-5-10-5zM2 17l10 5 10-5-10-5-10 5zM2 12l10 5 10-5-10-5-10 5z\"/></svg>\n            LOGLAYER PRO\n          </span>\n          <label className=\"cursor-pointer text-[10px] font-bold text-gray-400 hover:text-white bg-[#3c3c3c] px-2 py-1 rounded transition-all hover:bg-[#444]\">\n            {isProcessing ? `\u52A0\u8F7D\u4E2D ${loadingProgress}%` : '\u6253\u5F00\u65E5\u5FD7'}\n            <input type=\"file\" className=\"hidden\" onChange={handleFileUpload} disabled={isProcessing} />\n          </label>\n        </div>\n        <div className=\"text-[10px] text-gray-500 font-mono truncate max-w-xs\">{fileName || (isProcessing ? '\u6B63\u5728\u89E3\u6790\u6587\u4EF6...' : '\u5C31\u7EEA')}</div>\n      </div>\n\n      {(isProcessing || isLayerProcessing) && (\n        <div className=\"h-0.5 w-full bg-[#111] overflow-hidden relative\">\n          <div className={`h-full bg-blue-500 transition-all duration-300 ${isLayerProcessing ? 'animate-pulse' : ''}`} \n               style={{ width: isLayerProcessing ? '100%' : `${loadingProgress}%` }} />\n        </div>\n      )}\n\n      <div className=\"flex-1 flex overflow-hidden\">\n        <Sidebar activeView={activeView} onSetActiveView={setActiveView} />\n        <div className=\"w-72 bg-[#252526] border-r border-[#111] flex flex-col shrink-0 shadow-lg\">\n          {activeView === 'explorer' && <ExplorerPanel fileName={fileName} fileSize={fileSize} onFileSelect={() => document.querySelector<HTMLInputElement>('input[type=\"file\"]')?.click()} />}\n          {activeView === 'layers' && (\n            <div className=\"flex-1 flex flex-col overflow-hidden\">\n              <div className=\"p-3 border-b border-[#111] bg-[#2d2d2d] shrink-0\">\n                <div className=\"flex items-center justify-between mb-2\">\n                    <h2 className=\"text-[10px] uppercase font-black opacity-40 tracking-wider\">\u56FE\u5C42\u9762\u677F</h2>\n                    <div className=\"flex items-center space-x-0.5 border-l border-white/10 pl-2\">\n                        <button onClick={undo} disabled={past.length === 0} className={`p-1 rounded ${past.length > 0 ? 'text-gray-400 hover:bg-[#444] hover:text-white' : 'text-gray-700 cursor-not-allowed'}`} title=\"\u64A4\u9500 (Ctrl+Z)\">\n                            <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2.5\" d=\"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6\"/></svg>\n                        </button>\n                        <button onClick={redo} disabled={future.length === 0} className={`p-1 rounded ${future.length > 0 ? 'text-gray-400 hover:bg-[#444] hover:text-white' : 'text-gray-700 cursor-not-allowed'}`} title=\"\u91CD\u505A (Ctrl+Y)\">\n                            <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2.5\" d=\"M21 10H11a8 8 0 00-8 8v2M21 10l-6 6m6-6l-6-6\"/></svg>\n                        </button>\n                    </div>\n                </div>\n                <div className=\"flex flex-wrap gap-1 items-center\">\n                  <button onClick={() => addLayer(LayerType.FOLDER)} className=\"w-7 h-7 flex items-center justify-center hover:bg-[#444] rounded text-gray-400\" title=\"\u6DFB\u52A0\u6587\u4EF6\u5939\"><svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" viewBox=\"0 0 24 24\"><path d=\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\" /></svg></button>\n                  <button onClick={() => addLayer(LayerType.FILTER)} className=\"w-7 h-7 flex items-center justify-center hover:bg-[#444] rounded text-blue-400\" title=\"\u6DFB\u52A0\u5185\u5BB9\u8FC7\u6EE4\"><svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"3\"><path d=\"M3 4h18l-7 9v6l-4 2V13L3 4z\"/></svg></button>\n                  <button onClick={() => addLayer(LayerType.HIGHLIGHT)} className=\"w-7 h-7 flex items-center justify-center hover:bg-[#444] rounded text-yellow-400\" title=\"\u6DFB\u52A0\u9AD8\u4EAE\u56FE\u5C42\"><svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 21a9 9 0 110-18 9 9 0 010 18z\"/></svg></button>\n                  <button onClick={() => addLayer(LayerType.TIME_RANGE)} className=\"w-7 h-7 flex items-center justify-center hover:bg-[#444] rounded text-purple-400\" title=\"\u6DFB\u52A0\u65F6\u95F4\u8FC7\u6EE4\u5668\"><svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"3\" viewBox=\"0 0 24 24\"><path d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg></button>\n                  <button onClick={() => addLayer(LayerType.LEVEL)} className=\"w-7 h-7 flex items-center justify-center hover:bg-[#444] rounded text-red-400\" title=\"\u6DFB\u52A0\u7B49\u7EA7\u8FC7\u6EE4\u5668\"><svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"3\" viewBox=\"0 0 24 24\"><path d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"/></svg></button>\n                  <button onClick={() => addLayer(LayerType.RANGE)} className=\"w-7 h-7 flex items-center justify-center hover:bg-[#444] rounded text-teal-400\" title=\"\u6DFB\u52A0\u884C\u53F7\u8303\u56F4\u8FC7\u6EE4\u5668\"><svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"3\" viewBox=\"0 0 24 24\"><path d=\"M7 8l-4 4 4 4M17 8l4 4-4 4M13 4l-2 16\" /></svg></button>\n                  <button onClick={() => addLayer(LayerType.TRANSFORM)} className=\"w-7 h-7 flex items-center justify-center hover:bg-[#444] rounded text-orange-400\" title=\"\u6DFB\u52A0\u8F6C\u6362\u56FE\u5C42\"><svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"3\" viewBox=\"0 0 24 24\"><path d=\"M4 4h16v16H4V4zm4 4h8v8H8V8z\"/></svg></button>\n                </div>\n              </div>\n              <div className=\"flex-1 overflow-y-auto custom-scrollbar\">\n                <LayersPanel \n                  layers={layers} stats={layerStats} rawCounts={rawStats}\n                  selectedId={selectedLayerId} onSelect={setSelectedLayerId} onDrop={handleDrop}\n                  onJumpToLine={handleJumpToLine}\n                  onRemove={(id) => updateLayers(prev => prev.filter(l => l.id !== id && l.groupId !== id))} \n                  onToggle={(id) => updateLayers(prev => prev.map(l => l.id === id ? { ...l, enabled: !l.enabled } : l))} \n                  onUpdate={(id, update) => updateLayers(prev => prev.map(l => l.id === id ? { ...l, ...update } : l))}\n                />\n              </div>\n              <div className=\"p-2 border-t border-[#111] bg-[#2d2d2d] shrink-0\">\n                <button onClick={handleSavePreset} className={`w-full py-1.5 rounded text-[10px] font-bold uppercase tracking-wider ${saveStatus === 'saved' ? 'bg-green-600' : 'bg-blue-600 hover:bg-blue-500'} text-white shadow-lg transition-all`}>\n                  {saveStatus === 'saved' ? '\u5DF2\u66F4\u65B0' : '\u4FDD\u5B58\u5F53\u524D\u56FE\u5C42\u7EC4'}\n                </button>\n              </div>\n            </div>\n          )}\n          {activeView === 'search' && (\n            <SearchPanel \n              onSearch={setSearchQuery} \n              config={searchConfig} \n              setConfig={setSearchConfig}\n              matchCount={searchMatchCount}\n              onNavigate={findNextSearchMatch}\n              currentIndex={currentMatchNumber}\n            />\n          )}\n          {activeView === 'presets' && <PresetPanel presets={presets} onApply={(p)=>updateLayers(JSON.parse(JSON.stringify(p.layers)))} onDelete={(id) => {\n            const next = presets.filter(p => p.id !== id);\n            setPresets(next);\n            localStorage.setItem('loglayer_presets', JSON.stringify(next));\n          }} />}\n        </div>\n\n        <div className=\"flex-1 flex flex-col min-w-0 bg-[#1e1e1e] relative select-text\">\n          {activeView === 'help' ? (\n            <HelpPanel />\n          ) : (\n            <>\n              {isLayerProcessing && (\n                <div className=\"absolute inset-0 bg-black/40 z-20 flex items-center justify-center pointer-events-none backdrop-blur-[2px]\">\n                  <div className=\"bg-[#252526] px-8 py-5 rounded border border-[#444] shadow-2xl flex flex-col items-center space-y-4\">\n                    <div className=\"w-8 h-8 border-3 border-blue-500 border-t-transparent animate-spin rounded-full\"></div>\n                    <div className=\"flex flex-col items-center\">\n                      <span className=\"text-[12px] font-black tracking-[0.2em] text-blue-400 uppercase\">\u6B63\u5728\u66F4\u65B0\u5904\u7406\u7BA1\u9053</span>\n                      <span className=\"text-[10px] text-gray-500 font-mono mt-2 italic\">\u6B63\u5728\u4F18\u5316 {processedLogs.length.toLocaleString()} \u884C\u6570\u636E...</span>\n                    </div>\n                  </div>\n                </div>\n              )}\n              \n              {isFindVisible && (\n                <EditorFindWidget \n                  query={searchQuery}\n                  onQueryChange={setSearchQuery}\n                  config={searchConfig}\n                  onConfigChange={setSearchConfig}\n                  matchCount={searchMatchCount}\n                  currentMatch={currentMatchNumber}\n                  onNavigate={findNextSearchMatch}\n                  onClose={() => setIsFindVisible(false)}\n                />\n              )}\n\n              {isGoToLineVisible && (\n                <EditorGoToLineWidget \n                  totalLines={processedLogs.length}\n                  onGo={(lineNum) => {\n                    handleJumpToLine(lineNum - 1);\n                    setIsGoToLineVisible(false);\n                  }}\n                  onClose={() => setIsGoToLineVisible(false)}\n                />\n              )}\n\n              <LogViewer \n                lines={processedLogs} \n                searchQuery={searchQuery} \n                searchConfig={searchConfig} \n                scrollToIndex={scrollToIndex}\n                highlightedIndex={highlightedIndex}\n                onLineClick={handleLogViewerInteraction}\n              />\n              \n              <div className=\"absolute right-0 top-0 bottom-0 w-3 bg-black/20 pointer-events-none border-l border-white/5 select-none\">\n                {Object.keys(activeStats).map(layerId => {\n                   const stats = activeStats[layerId];\n                   const layer = layers.find(l => l.id === layerId) || (layerId === 'global-search-volatile' ? { type: LayerType.HIGHLIGHT, config: { color: '#facc15' }, enabled: true } : null);\n                   if (!layer || !layer.enabled || !stats) return null;\n                   \n                   return stats.distribution.map((d, i) => d > 0 && (\n                     <div key={`${layerId}-${i}`} className=\"absolute w-full\" style={{ top: `${(i/20)*100}%`, height: '5%', backgroundColor: layer.config.color || '#3b82f6', opacity: d * 0.6 }} />\n                   ));\n                })}\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n      <StatusBar lines={processedLogs.length} totalLines={rawLogs.length} size={fileSize} isProcessing={isProcessing || isLayerProcessing} />\n    </div>\n  );\n};\n\nexport default App;", "import React from 'react';\n\ninterface SidebarProps {\n  activeView: string;\n  onSetActiveView: (view: any) => void;\n}\n\nexport const Sidebar: React.FC<SidebarProps> = ({ activeView, onSetActiveView }) => {\n  const icons = [\n    { id: 'explorer', icon: <path d=\"M5 4h14v16H5V4zm2 2v12h10V6H7z\" />, label: '\u8D44\u6E90\u7BA1\u7406\u5668' },\n    { id: 'search', icon: <path d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />, label: '\u641C\u7D22' },\n    { id: 'layers', icon: <path d=\"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5-10-5-10 5zM2 12l10 5 10-5-10-5-10 5z\" />, label: '\u56FE\u5C42' },\n    { id: 'presets', icon: <path d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />, label: '\u9884\u8BBE' },\n    { id: 'help', icon: <path d=\"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />, label: '\u5E2E\u52A9\u4E0E API' },\n  ];\n\n  return (\n    <div className=\"w-12 bg-[#333333] flex flex-col items-center py-2 shrink-0\">\n      {icons.map((item) => (\n        <button\n          key={item.id}\n          onClick={() => onSetActiveView(item.id)}\n          className={`w-12 h-12 flex items-center justify-center relative group transition-colors ${\n            activeView === item.id ? 'text-white' : 'text-gray-500 hover:text-gray-300'\n          }`}\n        >\n          {activeView === item.id && (\n            <div className=\"absolute left-0 w-0.5 h-full bg-white\" />\n          )}\n          <svg className=\"w-6 h-6\" fill={item.id === 'layers' ? 'currentColor' : 'none'} stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\">\n            {item.icon}\n          </svg>\n          <span className=\"absolute left-14 bg-[#252526] text-white text-[10px] px-2 py-1 rounded hidden group-hover:block whitespace-nowrap z-50 shadow-lg\">\n            {item.label}\n          </span>\n        </button>\n      ))}\n      <div className=\"mt-auto\">\n        <button className=\"w-12 h-12 flex items-center justify-center text-gray-500 hover:text-gray-300\">\n          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"1.5\" d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n};", "import React, { useRef, useState, useEffect } from 'react';\nimport { LogLine } from '../types';\n\ninterface LogViewerProps {\n  lines: LogLine[];\n  searchQuery: string;\n  searchConfig: { regex: boolean; caseSensitive: boolean };\n  scrollToIndex?: number | null;\n  highlightedIndex?: number | null;\n  onLineClick?: (index: number) => void;\n}\n\nexport const LogViewer: React.FC<LogViewerProps> = ({ \n  lines, \n  searchQuery, \n  searchConfig, \n  scrollToIndex, \n  highlightedIndex,\n  onLineClick \n}) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [scrollTop, setScrollTop] = useState(0);\n  const [viewportHeight, setViewportHeight] = useState(0);\n\n  const lineHeight = 20;\n  const buffer = 25;\n\n  useEffect(() => {\n    const handleResize = () => {\n      if (containerRef.current) setViewportHeight(containerRef.current.clientHeight);\n    };\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  useEffect(() => {\n    if (scrollToIndex !== null && scrollToIndex !== undefined && containerRef.current) {\n      const targetLine = scrollToIndex < 1 && lines.length > 1000 ? Math.floor(scrollToIndex * lines.length) : scrollToIndex;\n      const targetScroll = Math.max(0, targetLine * lineHeight - (viewportHeight / 3)); // Scroll to roughly 1/3 down the view\n      containerRef.current.scrollTo({ top: targetScroll, behavior: 'auto' });\n    }\n  }, [scrollToIndex, lines.length, viewportHeight]);\n\n  const startIndex = Math.max(0, Math.floor(scrollTop / lineHeight) - buffer);\n  const endIndex = Math.min(lines.length, Math.floor((scrollTop + viewportHeight) / lineHeight) + buffer);\n  const visibleLines = lines.slice(startIndex, endIndex);\n\n  const renderLine = (line: LogLine) => {\n    const content = line.displayContent || line.content;\n    \n    if (!line.highlights || line.highlights.length === 0) {\n      return <span>{content}</span>;\n    }\n\n    // Sort highlights by start position\n    const sorted = [...line.highlights].sort((a, b) => a.start - b.start || b.end - a.end);\n    const elements = [];\n    let lastIndex = 0;\n\n    for (let i = 0; i < sorted.length; i++) {\n      const h = sorted[i];\n      \n      // Ensure we don't move backwards and only process within bounds\n      if (h.start >= content.length) break;\n      if (h.start < lastIndex) continue; // Skip overlaps for simple rendering\n\n      // Add text before the highlight\n      if (h.start > lastIndex) {\n        elements.push(<span key={`t-${i}`}>{content.substring(lastIndex, h.start)}</span>);\n      }\n\n      const opacity = (h.opacity || 100) / 100;\n      const end = Math.min(h.end, content.length);\n      \n      elements.push(\n        <span \n          key={`h-${i}`} \n          style={{ \n            backgroundColor: h.color.startsWith('#') ? `${h.color}${Math.floor(opacity * 255).toString(16).padStart(2, '0')}` : h.color,\n            color: '#fff', \n            padding: '0 1px',\n            borderRadius: '1px'\n          }}\n        >\n          {content.substring(h.start, end)}\n        </span>\n      );\n      lastIndex = end;\n    }\n\n    if (lastIndex < content.length) {\n      elements.push(<span key=\"end\">{content.substring(lastIndex)}</span>);\n    }\n    \n    return elements;\n  };\n\n  return (\n    <div ref={containerRef} onScroll={(e) => setScrollTop(e.currentTarget.scrollTop)} className=\"flex-1 overflow-auto bg-[#1e1e1e] font-mono text-[12px] relative custom-scrollbar\">\n      <div style={{ height: `${lines.length * lineHeight}px`, width: '100%' }}>\n        <div className=\"absolute top-0 left-0 w-full\" style={{ transform: `translateY(${startIndex * lineHeight}px)` }}>\n          {visibleLines.map((line, idx) => {\n            const absoluteIdx = startIndex + idx;\n            const isHighlighted = highlightedIndex === absoluteIdx;\n            \n            return (\n              <div \n                key={`${line.index}`} \n                onClick={() => onLineClick?.(absoluteIdx)}\n                className={`flex hover:bg-[#2a2d2e] px-4 h-[20px] items-center whitespace-pre border-l-2 transition-colors cursor-default\n                  ${line.isMarked ? 'border-yellow-500' : 'border-transparent'}\n                  ${isHighlighted ? 'bg-[#3b82f6]/20' : ''}`}\n                style={isHighlighted ? { backgroundColor: 'rgba(59, 130, 246, 0.2)' } : undefined}\n              >\n                <div className={`w-14 text-right pr-4 shrink-0 select-none text-[10px] ${isHighlighted ? 'text-blue-400 font-bold' : 'text-gray-600'}`}>\n                  {line.index + 1}\n                </div>\n                <div className=\"flex-1 overflow-hidden truncate text-[#d4d4d4]\">{renderLine(line)}</div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};", "import React, { useState, useRef, useEffect } from 'react';\nimport { LogLayer, LayerType } from '../types';\nimport { SearchInput } from './SearchInput';\n\ninterface LayersPanelProps {\n  layers: LogLayer[];\n  stats: Record<string, { count: number; distribution: number[] }>;\n  rawCounts?: Record<string, number[]>;\n  selectedId: string | null;\n  onSelect: (id: string) => void;\n  onRemove: (id: string) => void;\n  onToggle: (id: string) => void;\n  onUpdate: (id: string, update: any) => void;\n  onDrop: (draggedId: string, targetId: string | null, position: 'inside' | 'before' | 'after') => void;\n  onJumpToLine?: (index: number) => void;\n}\n\nexport const LayersPanel: React.FC<LayersPanelProps> = ({ \n  layers, stats, rawCounts = {}, selectedId, onSelect, onRemove, onToggle, onUpdate, onDrop, onJumpToLine \n}) => {\n  const [dragOverId, setDragOverId] = useState<string | null>(null);\n  const [draggedLayerId, setDraggedLayerId] = useState<string | null>(null);\n  const [dropPosition, setDropPosition] = useState<'inside' | 'before' | 'after' | null>(null);\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [isInputHovered, setIsInputHovered] = useState(false);\n  \n  const [hoveredLayerId, setHoveredLayerId] = useState<string | null>(null);\n  const [tooltipPos, setTooltipPos] = useState({ x: 0, y: 0 });\n\n  const handleDragStart = (e: React.DragEvent, id: string) => {\n    const target = e.target as HTMLElement;\n    if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA' || editingId === id || isInputHovered) {\n      e.preventDefault();\n      return;\n    }\n    \n    setDraggedLayerId(id);\n    e.dataTransfer.setData('layerId', id);\n    e.dataTransfer.effectAllowed = 'move';\n    \n    const currentTarget = e.currentTarget as HTMLElement;\n    currentTarget.classList.add('dragging');\n  };\n\n  const handleDragEnd = (e: React.DragEvent) => {\n    (e.currentTarget as HTMLElement).classList.remove('dragging');\n    setDragOverId(null);\n    setDropPosition(null);\n    setDraggedLayerId(null);\n  };\n\n  const handleDragOver = (e: React.DragEvent, id: string, type: LayerType) => {\n    e.preventDefault();\n    if (draggedLayerId === id) return;\n\n    const rect = (e.currentTarget as HTMLElement).getBoundingClientRect();\n    const y = e.clientY - rect.top;\n    setDragOverId(id);\n    \n    if (type === LayerType.FOLDER) {\n        if (y > rect.height * 0.25 && y < rect.height * 0.75) setDropPosition('inside');\n        else if (y < rect.height / 2) setDropPosition('before');\n        else setDropPosition('after');\n    } else {\n        if (y < rect.height / 2) setDropPosition('before');\n        else setDropPosition('after');\n    }\n  };\n\n  const handleDropLocal = (e: React.DragEvent, targetId: string) => {\n    e.preventDefault();\n    const draggedId = e.dataTransfer.getData('layerId');\n    if (draggedId && draggedId !== targetId && dropPosition) {\n      onDrop(draggedId, targetId, dropPosition);\n    }\n    setDragOverId(null);\n    setDropPosition(null);\n    setDraggedLayerId(null);\n  };\n\n  const getLayerIcon = (layer: LogLayer) => {\n    switch (layer.type) {\n      case LayerType.FILTER: return <svg className=\"w-3.5 h-3.5 text-blue-400\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" viewBox=\"0 0 24 24\"><path d=\"M3 4h18l-7 9v6l-4 2V13L3 4z\"/></svg>;\n      case LayerType.HIGHLIGHT: return <svg className=\"w-3.5 h-3.5 text-yellow-400\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 21a9 9 0 110-18 9 9 0 010 18z\"/></svg>;\n      case LayerType.RANGE: return <svg className=\"w-3.5 h-3.5 text-teal-400\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" viewBox=\"0 0 24 24\"><path d=\"M7 8l-4 4 4 4M17 8l4 4-4 4M13 4l-2 16\" /></svg>;\n      case LayerType.TIME_RANGE: return <svg className=\"w-3.5 h-3.5 text-purple-400\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" viewBox=\"0 0 24 24\"><path d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg>;\n      case LayerType.TRANSFORM: return <svg className=\"w-3.5 h-3.5 text-orange-400\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" viewBox=\"0 0 24 24\"><path d=\"M4 4h16v16H4V4zm4 4h8v8H8V8z\" /></svg>;\n      case LayerType.FOLDER: return <svg className=\"w-4 h-4 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\"><path d=\"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z\"/></svg>;\n      case LayerType.LEVEL: return <svg className=\"w-3.5 h-3.5 text-red-400\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" viewBox=\"0 0 24 24\"><path d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"/></svg>;\n      default: return <svg className=\"w-3.5 h-3.5 text-gray-500\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M4 6h16M4 12h16M4 18h16\" /></svg>;\n    }\n  };\n\n  const handleMouseMove = (e: React.MouseEvent) => {\n    setTooltipPos({ x: e.clientX + 15, y: e.clientY + 10 });\n  };\n\n  const renderLayerCard = (layer: LogLayer, depth: number = 0) => {\n    const isSelected = selectedId === layer.id;\n    const isDragOver = dragOverId === layer.id;\n    const isDragging = draggedLayerId === layer.id;\n    const isFolder = layer.type === LayerType.FOLDER;\n    const isEditing = editingId === layer.id;\n    const parent = layer.groupId ? layers.find(l => l.id === layer.groupId) : null;\n    const effectivelyDisabled = !layer.enabled || (parent && !parent.enabled);\n\n    const layerColor = layer.config.color || (layer.type === LayerType.RANGE ? '#2dd4bf' : layer.type === LayerType.TIME_RANGE ? '#a855f7' : layer.type === LayerType.TRANSFORM ? '#fb923c' : layer.type === LayerType.LEVEL ? '#f87171' : '#3b82f6');\n    const layerCount = stats[layer.id]?.count || 0;\n\n    return (\n      <div \n        key={layer.id}\n        draggable={!isEditing && !isInputHovered}\n        onDragStart={(e) => handleDragStart(e, layer.id)}\n        onDragEnd={handleDragEnd}\n        onDragOver={(e) => handleDragOver(e, layer.id, layer.type)}\n        onDragLeave={(e) => { \n          if (!e.currentTarget.contains(e.relatedTarget as Node)) {\n            setDragOverId(null); \n            setDropPosition(null); \n          }\n        }}\n        onDrop={(e) => handleDropLocal(e, layer.id)}\n        onMouseEnter={() => !isFolder && setHoveredLayerId(layer.id)}\n        onMouseLeave={() => setHoveredLayerId(null)}\n        onMouseMove={handleMouseMove}\n        onMouseDown={(e) => {\n          const target = e.target as HTMLElement;\n          if (target.tagName !== 'INPUT' && target.tagName !== 'BUTTON' && !target.closest('button')) {\n            onSelect(layer.id);\n          }\n        }}\n        onDoubleClick={() => setEditingId(layer.id)}\n        className={`flex flex-col border-b border-[#111] relative group transition-all overflow-hidden\n          ${isSelected ? 'bg-[#37373d]' : 'bg-[#252526] hover:bg-[#2d2d30]'}\n          ${isDragOver && dropPosition === 'inside' ? 'bg-blue-500/10' : ''}\n          ${effectivelyDisabled ? 'opacity-40' : ''}`}\n      >\n        {isDragOver && dropPosition === 'before' && (\n          <div className=\"absolute top-0 left-0 right-0 h-[2px] bg-blue-500 z-50 pointer-events-none\" />\n        )}\n        {isDragOver && dropPosition === 'after' && (\n          <div className=\"absolute bottom-0 left-0 right-0 h-[2px] bg-blue-500 z-50 pointer-events-none\" />\n        )}\n\n        <div className={`flex items-center py-1 min-h-[32px] overflow-hidden`} style={{ paddingLeft: `${depth * 10 + 2}px` }}>\n          <div \n            className={`w-6 h-6 flex items-center justify-center shrink-0 cursor-pointer hover:bg-white/5 rounded transition-transform ${layer.isCollapsed ? '-rotate-90' : ''}`}\n            onClick={(e) => { e.stopPropagation(); onUpdate(layer.id, { isCollapsed: !layer.isCollapsed }); }}\n          >\n            <svg className=\"w-2.5 h-2.5 text-gray-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\"><path fillRule=\"evenodd\" d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clipRule=\"evenodd\"/></svg>\n          </div>\n\n          <div \n            className={`w-7 h-7 flex items-center justify-center shrink-0 cursor-pointer rounded ${layer.enabled ? 'text-gray-400' : 'text-gray-700'}`}\n            onClick={(e) => { e.stopPropagation(); onToggle(layer.id); }}\n            title={layer.enabled ? '\u70B9\u51FB\u7981\u7528\u56FE\u5C42' : '\u70B9\u51FB\u542F\u7528\u56FE\u5C42'}\n          >\n            <svg className=\"w-3.5 h-3.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"><path d=\"M10 12a2 2 0 100-4 2 2 0 000 4z\" /><path fillRule=\"evenodd\" d=\"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z\" clipRule=\"evenodd\" /></svg>\n          </div>\n\n          <div className=\"w-7 h-7 flex items-center justify-center shrink-0\">\n             {getLayerIcon(layer)}\n          </div>\n\n          <div className=\"flex-1 min-w-0 flex items-center justify-between ml-1 pr-1\">\n            {isEditing ? (\n              <input \n                autoFocus className=\"bg-[#1e1e1e] border border-blue-500 text-[11px] px-1 rounded text-white w-full select-text h-5\"\n                value={layer.name} onChange={(e) => onUpdate(layer.id, { name: e.target.value })}\n                onBlur={() => { setEditingId(null); setIsInputHovered(false); }} \n                onKeyDown={(e) => e.key === 'Enter' && setEditingId(null)}\n                onMouseDown={e => e.stopPropagation()}\n                onMouseEnter={() => setIsInputHovered(true)}\n                onMouseLeave={() => setIsInputHovered(false)}\n              />\n            ) : (\n              <span className={`text-[11px] truncate leading-tight flex-1 ${isFolder ? 'font-bold text-gray-300' : 'text-gray-400'}`}>{layer.name}</span>\n            )}\n            {!isFolder && layerCount > 0 && (\n              <span className=\"text-[9px] bg-black/40 px-1 py-0.5 rounded text-gray-500 font-mono ml-2 shrink-0\">\n                {layerCount.toLocaleString()}\n              </span>\n            )}\n          </div>\n\n          <div className=\"w-8 h-8 flex items-center justify-center shrink-0\">\n              <button \n                onClick={(e) => { e.stopPropagation(); onRemove(layer.id); }} \n                className=\"w-full h-full flex items-center justify-center opacity-0 group-hover:opacity-100 hover:text-red-400 text-gray-600 transition-opacity\"\n                title=\"\u5220\u9664\u56FE\u5C42\"\n              >\n                <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeWidth=\"3\" d=\"M6 18L18 6M6 6l12 12\"/></svg>\n              </button>\n          </div>\n        </div>\n\n        {!isFolder && stats[layer.id] && (\n            <div className=\"h-[2px] w-full flex space-x-[1px] relative overflow-hidden shrink-0\">\n                {stats[layer.id].distribution.map((v, i) => (\n                    <div \n                        key={i} \n                        className=\"flex-1\" \n                        style={{ backgroundColor: layerColor, opacity: Math.max(0.05, v * 0.8) }}\n                    />\n                ))}\n            </div>\n        )}\n\n        {isSelected && !isFolder && !layer.isCollapsed && !isDragging && (\n          <div className={`px-3 pb-3 space-y-2 border-t border-black/10 pt-3 bg-black/10`} style={{ paddingLeft: `${depth * 10 + 20}px` }}>\n             {(layer.type === LayerType.FILTER || layer.type === LayerType.HIGHLIGHT || layer.type === LayerType.TRANSFORM) && (\n                <SearchInput \n                  value={layer.config.query || ''}\n                  onChange={(val) => onUpdate(layer.id, { config: { ...layer.config, query: val } })}\n                  config={{ \n                    regex: layer.config.regex, \n                    caseSensitive: layer.config.caseSensitive, \n                    wholeWord: layer.config.wholeWord \n                  }}\n                  onConfigChange={(cfg) => onUpdate(layer.id, { config: { ...layer.config, ...cfg } })}\n                  placeholder={layer.type === LayerType.TRANSFORM ? \"\u67E5\u627E\u76EE\u6807...\" : \"\u6B63\u5219\u8868\u8FBE\u5F0F\u6216\u6587\u672C\u6A21\u5F0F...\"}\n                  onMouseEnter={() => setIsInputHovered(true)}\n                  onMouseLeave={() => setIsInputHovered(false)}\n                />\n             )}\n             {layer.type === LayerType.FILTER && (\n               <div className=\"flex items-center space-x-2 mt-1\">\n                 <button \n                   onClick={() => onUpdate(layer.id, { config: { ...layer.config, invert: !layer.config.invert } })}\n                   className={`px-2 py-0.5 rounded text-[9px] font-bold border transition-colors ${layer.config.invert ? 'bg-red-900/40 border-red-500 text-red-200' : 'bg-transparent border-gray-700 text-gray-500'}`}\n                 >\n                   \u53CD\u8F6C\u8FC7\u6EE4\n                 </button>\n                 <span className=\"text-[9px] text-gray-600 uppercase\">\u6392\u9664\u5339\u914D\u9879</span>\n               </div>\n             )}\n             {layer.type === LayerType.TRANSFORM && (\n                <input \n                  className=\"bg-[#1e1e1e] border border-[#444] px-2 py-1 text-[11px] rounded text-gray-200 w-full select-text focus:outline-none focus:border-blue-500 h-6\"\n                  value={layer.config.replaceWith || ''} onChange={(e) => onUpdate(layer.id, { config: { ...layer.config, replaceWith: e.target.value } })}\n                  placeholder=\"\u66FF\u6362\u4E3A...\" \n                  onMouseDown={e => e.stopPropagation()}\n                  onMouseEnter={() => setIsInputHovered(true)}\n                  onMouseLeave={() => setIsInputHovered(false)}\n                />\n             )}\n             {layer.type === LayerType.RANGE && (\n                <div className=\"flex items-center space-x-2\">\n                  <div className=\"flex-1\">\n                    <label className=\"text-[9px] text-gray-500 uppercase font-bold mb-0.5 block\">\u8D77\u59CB\u884C</label>\n                    <input \n                      type=\"number\"\n                      className=\"bg-[#1e1e1e] border border-[#444] px-2 py-1 text-[10px] rounded text-gray-200 w-full select-text focus:outline-none focus:border-blue-500 h-6\"\n                      value={layer.config.from ?? ''} onChange={(e) => onUpdate(layer.id, { config: { ...layer.config, from: e.target.value === '' ? undefined : parseInt(e.target.value) } })}\n                      placeholder=\"1\" \n                      onMouseDown={e => e.stopPropagation()}\n                      onMouseEnter={() => setIsInputHovered(true)}\n                      onMouseLeave={() => setIsInputHovered(false)}\n                    />\n                  </div>\n                  <div className=\"flex-1\">\n                    <label className=\"text-[9px] text-gray-500 uppercase font-bold mb-0.5 block\">\u7ED3\u675F\u884C</label>\n                    <input \n                      type=\"number\"\n                      className=\"bg-[#1e1e1e] border border-[#444] px-2 py-1 text-[10px] rounded text-gray-200 w-full select-text focus:outline-none focus:border-blue-500 h-6\"\n                      value={layer.config.to ?? ''} onChange={(e) => onUpdate(layer.id, { config: { ...layer.config, to: e.target.value === '' ? undefined : parseInt(e.target.value) } })}\n                      placeholder=\"\u6700\u5927\" \n                      onMouseDown={e => e.stopPropagation()}\n                      onMouseEnter={() => setIsInputHovered(true)}\n                      onMouseLeave={() => setIsInputHovered(false)}\n                    />\n                  </div>\n                </div>\n             )}\n             {layer.type === LayerType.LEVEL && (\n                <div className=\"flex flex-wrap gap-1\">\n                  {['INFO', 'WARN', 'ERROR', 'DEBUG', 'FATAL'].map(level => (\n                    <button \n                      key={level}\n                      onClick={() => {\n                        const current = layer.config.levels || [];\n                        const next = current.includes(level) ? current.filter(l => l !== level) : [...current, level];\n                        onUpdate(layer.id, { config: { ...layer.config, levels: next }});\n                      }}\n                      className={`px-1.5 py-0.5 rounded text-[9px] font-bold border ${layer.config.levels?.includes(level) ? 'bg-red-900/40 border-red-500 text-red-200' : 'bg-transparent border-gray-700 text-gray-500'}`}\n                    >\n                      {level}\n                    </button>\n                  ))}\n                </div>\n             )}\n             {layer.type === LayerType.TIME_RANGE && (\n                <div className=\"space-y-3 bg-black/20 p-2 rounded border border-white/5\">\n                  <div className=\"flex flex-col space-y-1\">\n                    <div className=\"flex justify-between items-center\">\n                       <label className=\"text-[9px] text-gray-400 uppercase font-bold\">\u65F6\u95F4\u5339\u914D\u5668 (\u6B63\u5219)</label>\n                       <div className=\"flex space-x-2\">\n                         <button \n                            onClick={() => onUpdate(layer.id, { config: { ...layer.config, timeFormat: '\\\\d+\\\\.\\\\d+' } })}\n                            className=\"text-[8px] text-blue-400/70 hover:text-blue-400\"\n                          >\u6570\u5B57</button>\n                         <button \n                            onClick={() => onUpdate(layer.id, { config: { ...layer.config, timeFormat: '\\\\d{4}-\\\\d{2}-\\\\d{2}[T\\\\s]\\\\d{2}:\\\\d{2}:\\\\d{2}' } })}\n                            className=\"text-[8px] text-purple-400/70 hover:text-purple-400\"\n                          >ISO\u65E5\u671F</button>\n                       </div>\n                    </div>\n                    <input \n                      className=\"bg-[#1e1e1e] border border-[#444] px-2 py-1 text-[10px] rounded text-purple-300 w-full font-mono select-text focus:outline-none focus:border-blue-500 h-6\"\n                      value={layer.config.timeFormat || ''} onChange={(e) => onUpdate(layer.id, { config: { ...layer.config, timeFormat: e.target.value } })}\n                      placeholder=\"\u4F8B\u5982 (\\d+\\.\\d+) \u6216 ISO \u6A21\u5F0F\" \n                      onMouseDown={e => e.stopPropagation()}\n                      onMouseEnter={() => setIsInputHovered(true)}\n                      onMouseLeave={() => setIsInputHovered(false)}\n                    />\n                  </div>\n                  <div className=\"grid grid-cols-2 gap-2\">\n                    <div className=\"flex flex-col space-y-1\">\n                      <label className=\"text-[9px] text-gray-400 uppercase font-bold\">\u8D77\u59CB\u65F6\u95F4/\u503C</label>\n                      <input \n                        className=\"bg-[#1e1e1e] border border-[#444] px-2 py-1 text-[10px] rounded text-gray-200 w-full select-text focus:outline-none focus:border-blue-500 h-6\"\n                        value={layer.config.startTime || ''} onChange={(e) => onUpdate(layer.id, { config: { ...layer.config, startTime: e.target.value } })}\n                        placeholder=\"0.0 \u6216 \u65E5\u671F\" \n                        onMouseDown={e => e.stopPropagation()}\n                        onMouseEnter={() => setIsInputHovered(true)}\n                        onMouseLeave={() => setIsInputHovered(false)}\n                      />\n                    </div>\n                    <div className=\"flex flex-col space-y-1\">\n                      <label className=\"text-[9px] text-gray-400 uppercase font-bold\">\u7ED3\u675F\u65F6\u95F4/\u503C</label>\n                      <input \n                        className=\"bg-[#1e1e1e] border border-[#444] px-2 py-1 text-[10px] rounded text-gray-200 w-full select-text focus:outline-none focus:border-blue-500 h-6\"\n                        value={layer.config.endTime || ''} onChange={(e) => onUpdate(layer.id, { config: { ...layer.config, endTime: e.target.value } })}\n                        placeholder=\"\u6700\u5927 \u6216 \u65E5\u671F\" \n                        onMouseDown={e => e.stopPropagation()}\n                        onMouseEnter={() => setIsInputHovered(true)}\n                        onMouseLeave={() => setIsInputHovered(false)}\n                      />\n                    </div>\n                  </div>\n                  <p className=\"text-[8px] text-gray-500 italic px-1\">\u63D0\u793A: \u4F7F\u7528\u6B63\u5219\u62EC\u53F7 () \u6355\u83B7\u7279\u5B9A\u7684\u65F6\u95F4\u90E8\u5206\u3002</p>\n                </div>\n             )}\n             {layer.type === LayerType.HIGHLIGHT && (\n                <div className=\"flex items-center space-x-2\">\n                  <input type=\"color\" value={layer.config.color || '#3b82f6'} onChange={e => onUpdate(layer.id, { config: { ...layer.config, color: e.target.value }})} className=\"w-5 h-5 bg-transparent border-none cursor-pointer p-0\" title=\"\u9AD8\u4EAE\u989C\u8272\" />\n                  <input type=\"range\" min=\"0\" max=\"100\" value={layer.config.opacity || 100} onChange={e => onUpdate(layer.id, { config: { ...layer.config, opacity: parseInt(e.target.value)}})} className=\"flex-1 h-1 bg-[#444] rounded appearance-none accent-blue-500\" title=\"\u900F\u660E\u5EA6\" />\n                </div>\n             )}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const renderRecursive = (parentId: string | undefined = undefined, depth: number = 0) => {\n    return layers\n      .filter(l => l.groupId === parentId)\n      .map(layer => {\n        const isFolder = layer.type === LayerType.FOLDER;\n        return (\n            <React.Fragment key={layer.id}>\n                {renderLayerCard(layer, depth)}\n                {isFolder && !layer.isCollapsed && renderRecursive(layer.id, depth + 1)}\n            </React.Fragment>\n        );\n    });\n  };\n\n  const StatsTooltip = () => {\n    if (!hoveredLayerId || !stats[hoveredLayerId]) return null;\n    const layer = layers.find(l => l.id === hoveredLayerId);\n    if (!layer) return null;\n    const layerStats = stats[hoveredLayerId];\n    const layerColor = layer.config.color || '#3b82f6';\n\n    const style: React.CSSProperties = {\n      position: 'fixed',\n      left: tooltipPos.x,\n      top: tooltipPos.y,\n      zIndex: 1000,\n      pointerEvents: 'none',\n    };\n\n    return (\n      <div style={style} className=\"bg-[#2d2d30] border border-[#454545] shadow-2xl rounded p-3 w-48 text-[11px] text-[#cccccc] flex flex-col space-y-2 backdrop-blur-md bg-opacity-95\">\n        <div className=\"flex items-center justify-between border-b border-white/5 pb-1\">\n          <span className=\"font-bold text-gray-400 truncate max-w-[100px]\">{layer.name}</span>\n          <span className=\"text-blue-400 font-mono\">{layerStats.count.toLocaleString()}</span>\n        </div>\n        <div className=\"flex items-end space-x-[1px] h-12 bg-black/20 p-1 rounded mt-1\">\n          {layerStats.distribution.map((v, i) => (\n            <div \n              key={i} \n              className=\"flex-1 transition-all duration-300\" \n              style={{ \n                height: `${Math.max(4, v * 100)}%`, \n                backgroundColor: layerColor, \n                opacity: Math.max(0.2, v)\n              }} \n            />\n          ))}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"flex flex-col pb-10\">\n      {renderRecursive()}\n      <StatsTooltip />\n    </div>\n  );\n};", "import React from 'react';\n\ninterface SearchInputProps {\n  value: string;\n  onChange: (value: string) => void;\n  config: {\n    regex?: boolean;\n    caseSensitive?: boolean;\n    wholeWord?: boolean;\n  };\n  onConfigChange: (config: { regex?: boolean; caseSensitive?: boolean; wholeWord?: boolean }) => void;\n  placeholder?: string;\n  onMouseEnter?: () => void;\n  onMouseLeave?: () => void;\n}\n\nexport const SearchInput: React.FC<SearchInputProps> = ({\n  value,\n  onChange,\n  config,\n  onConfigChange,\n  placeholder = \"\u641C\u7D22...\",\n  onMouseEnter,\n  onMouseLeave\n}) => {\n  return (\n    <div \n      className=\"relative flex items-center w-full group\"\n      onMouseEnter={onMouseEnter}\n      onMouseLeave={onMouseLeave}\n    >\n      <input\n        type=\"text\"\n        className=\"bg-[#1e1e1e] border border-[#444] px-2 py-1 pr-20 text-[11px] rounded text-gray-200 w-full focus:outline-none focus:border-blue-500 select-text\"\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        placeholder={placeholder}\n        onMouseDown={(e) => e.stopPropagation()}\n      />\n      <div className=\"absolute right-1 flex items-center space-x-0.5 pointer-events-auto\">\n        <button\n          onClick={(e) => { e.stopPropagation(); onConfigChange({ ...config, caseSensitive: !config.caseSensitive }); }}\n          className={`w-5 h-5 flex items-center justify-center rounded text-[10px] transition-colors ${config.caseSensitive ? 'bg-blue-600 text-white' : 'text-gray-500 hover:bg-[#444]'}`}\n          title=\"\u533A\u5206\u5927\u5C0F\u5199 (Alt+C)\"\n        >\n          Aa\n        </button>\n        <button\n          onClick={(e) => { e.stopPropagation(); onConfigChange({ ...config, wholeWord: !config.wholeWord }); }}\n          className={`w-5 h-5 flex items-center justify-center rounded text-[10px] transition-colors ${config.wholeWord ? 'bg-blue-600 text-white' : 'text-gray-500 hover:bg-[#444]'}`}\n          title=\"\u5168\u5B57\u5339\u914D (Alt+W)\"\n        >\n          <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeWidth=\"2.5\" d=\"M3 12h18M3 6h18M3 18h18\"/></svg>\n        </button>\n        <button\n          onClick={(e) => { e.stopPropagation(); onConfigChange({ ...config, regex: !config.regex }); }}\n          className={`w-5 h-5 flex items-center justify-center rounded text-[10px] transition-colors ${config.regex ? 'bg-blue-600 text-white' : 'text-gray-400'}`}\n          title=\"\u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F (Alt+R)\"\n        >\n          .*\n        </button>\n      </div>\n    </div>\n  );\n};", "import React, { useState, useEffect, useRef } from 'react';\n\ninterface SearchPanelProps {\n  onSearch: (query: string) => void;\n  config: { regex: boolean; caseSensitive: boolean; wholeWord: boolean };\n  setConfig: React.Dispatch<React.SetStateAction<{ regex: boolean; caseSensitive: boolean; wholeWord: boolean }>>;\n  matchCount?: number;\n  currentIndex?: number;\n  onNavigate?: (direction: 'next' | 'prev') => void;\n}\n\nexport const SearchPanel: React.FC<SearchPanelProps> = ({ \n  onSearch, config, setConfig, matchCount = 0, currentIndex = 0, onNavigate \n}) => {\n  const [inputValue, setInputValue] = useState('');\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    inputRef.current?.focus();\n  }, []);\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      if (e.shiftKey) {\n        onNavigate?.('prev');\n      } else {\n        onNavigate?.('next');\n      }\n    } else if (e.key === 'Escape') {\n      setInputValue('');\n      onSearch('');\n    }\n  };\n\n  const clearSearch = () => {\n    setInputValue('');\n    onSearch('');\n    inputRef.current?.focus();\n  };\n\n  return (\n    <div className=\"p-4 flex flex-col h-full overflow-hidden select-none\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h2 className=\"text-[11px] uppercase tracking-wider font-bold opacity-70\">\u641C\u7D22</h2>\n        {matchCount > 0 && (\n          <div className=\"flex items-center space-x-1\">\n            <span className=\"text-[10px] text-gray-500 font-mono\">\n              {matchCount > 0 ? `${currentIndex} / ${matchCount}` : '\u65E0\u7ED3\u679C'}\n            </span>\n            <div className=\"flex ml-2 border-l border-white/10 pl-2\">\n              <button \n                onClick={() => onNavigate?.('prev')}\n                className=\"p-1 hover:bg-[#3c3c3c] rounded text-gray-400 hover:text-white transition-colors\"\n                title=\"\u4E0A\u4E00\u4E2A\u5339\u914D\u9879 (Shift+Enter)\"\n              >\n                <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2.5\" d=\"M5 15l7-7 7 7\"/></svg>\n              </button>\n              <button \n                onClick={() => onNavigate?.('next')}\n                className=\"p-1 hover:bg-[#3c3c3c] rounded text-gray-400 hover:text-white transition-colors\"\n                title=\"\u4E0B\u4E00\u4E2A\u5339\u914D\u9879 (Enter)\"\n              >\n                <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2.5\" d=\"M19 9l-7 7-7-7\"/></svg>\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <div className=\"relative group mb-4\">\n        <div className={`relative flex items-center bg-[#3c3c3c] border transition-all rounded overflow-hidden ${inputValue ? 'border-blue-500/50' : 'border-transparent'}`}>\n          <input \n            ref={inputRef}\n            type=\"text\" \n            value={inputValue}\n            onChange={(e) => {\n              setInputValue(e.target.value);\n              onSearch(e.target.value);\n            }}\n            onKeyDown={handleKeyDown}\n            placeholder=\"\u641C\u7D22\u65E5\u5FD7...\"\n            className=\"w-full bg-transparent text-white text-xs px-2 py-1.5 focus:outline-none pr-28\"\n          />\n          \n          <div className=\"absolute right-1 flex items-center space-x-0.5\">\n            {inputValue && (\n              <button \n                onClick={clearSearch}\n                className=\"w-5 h-5 flex items-center justify-center text-gray-500 hover:text-white\"\n                title=\"\u6E05\u9664\"\n              >\n                <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeWidth=\"3\" d=\"M6 18L18 6M6 6l12 12\"/></svg>\n              </button>\n            )}\n            <button \n              onClick={() => setConfig(prev => ({ ...prev, caseSensitive: !prev.caseSensitive }))}\n              className={`w-6 h-6 flex items-center justify-center rounded text-[10px] transition-colors ${config.caseSensitive ? 'bg-blue-600 text-white shadow-inner' : 'text-gray-400 hover:bg-[#555]'}`}\n              title=\"\u533A\u5206\u5927\u5C0F\u5199\"\n            >\n              Aa\n            </button>\n            <button \n              onClick={() => setConfig(prev => ({ ...prev, wholeWord: !prev.wholeWord }))}\n              className={`w-6 h-6 flex items-center justify-center rounded text-[10px] transition-colors ${config.wholeWord ? 'bg-blue-600 text-white shadow-inner' : 'text-gray-400 hover:bg-[#555]'}`}\n              title=\"\u5168\u5B57\u5339\u914D\"\n            >\n              <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeWidth=\"2.5\" d=\"M3 12h18M3 6h18M3 18h18\"/></svg>\n            </button>\n            <button \n              onClick={() => setConfig(prev => ({ ...prev, regex: !prev.regex }))}\n              className={`w-6 h-6 flex items-center justify-center rounded text-[10px] transition-colors ${config.regex ? 'bg-blue-600 text-white shadow-inner' : 'text-gray-400 hover:bg-[#555]'}`}\n              title=\"\u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\"\n            >\n              .*\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex-1 overflow-y-auto custom-scrollbar\">\n        <div className=\"text-[10px] opacity-40 uppercase font-bold mb-3 tracking-tighter\">\u641C\u7D22\u6280\u5DE7</div>\n        <div className=\"space-y-4\">\n          <div className=\"group\">\n            <div className=\"flex items-center text-[11px] text-blue-400 font-bold mb-1\">\n              <svg className=\"w-3 h-3 mr-1.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M13 10V3L4 14h7v7l9-11h-7z\" strokeWidth=\"2\"/></svg>\n              \u5FEB\u6377\u952E\u652F\u6301\n            </div>\n            <p className=\"text-[10px] text-gray-500 leading-relaxed px-4.5\">\n              \u6309 <kbd className=\"bg-[#333] px-1 rounded border border-white/10 font-mono text-gray-300\">Enter</kbd> \u8DF3\u8F6C\u5230\u4E0B\u4E00\u4E2A\u7ED3\u679C\u3002\u4F7F\u7528 <kbd className=\"bg-[#333] px-1 rounded border border-white/10 font-mono text-gray-300\">Shift+Enter</kbd> \u8DF3\u8F6C\u5230\u4E0A\u4E00\u4E2A\u3002\n            </p>\n          </div>\n\n          <div className=\"group\">\n            <div className=\"flex items-center text-[11px] text-yellow-500 font-bold mb-1\">\n              <svg className=\"w-3 h-3 mr-1.5\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 2L2 7l10 5 10-5-10-5z\"/></svg>\n              \u5168\u5C40\u9AD8\u4EAE\n            </div>\n            <p className=\"text-[10px] text-gray-500 leading-relaxed px-4.5\">\n              \u5339\u914D\u9879\u5C06\u5728\u6240\u6709\u65E5\u5FD7\u4E2D\u4EE5\u9EC4\u8272\u7A81\u51FA\u663E\u793A\uFF0C\u5305\u62EC\u8FC7\u6EE4\u540E\u7684\u89C6\u56FE\u3002\u975E\u6301\u4E45\u6027\u3002\n            </p>\n          </div>\n\n          <div className=\"p-3 bg-blue-500/5 border border-blue-500/10 rounded-lg\">\n             <p className=\"text-[10px] text-blue-400 italic flex items-start\">\n               <svg className=\"w-3 h-3 mr-1.5 mt-0.5 shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeWidth=\"2.5\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"/></svg>\n               \u4ECE\u56FE\u5C42\u9762\u677F\u4F7F\u7528\u201C\u9AD8\u4EAE\u56FE\u5C42\u201D\u53EF\u521B\u5EFA\u6C38\u4E45\u7684\u591A\u989C\u8272\u89C4\u5219\u3002\n             </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};", "import React, { useRef, useEffect } from 'react';\n\ninterface EditorFindWidgetProps {\n  query: string;\n  onQueryChange: (q: string) => void;\n  config: { regex: boolean; caseSensitive: boolean; wholeWord: boolean };\n  onConfigChange: React.Dispatch<React.SetStateAction<{ regex: boolean; caseSensitive: boolean; wholeWord: boolean }>>;\n  matchCount: number;\n  currentMatch: number;\n  onNavigate: (direction: 'next' | 'prev') => void;\n  onClose: () => void;\n}\n\nexport const EditorFindWidget: React.FC<EditorFindWidgetProps> = ({\n  query,\n  onQueryChange,\n  config,\n  onConfigChange,\n  matchCount,\n  currentMatch,\n  onNavigate,\n  onClose\n}) => {\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    inputRef.current?.focus();\n    inputRef.current?.select();\n  }, []);\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      onNavigate(e.shiftKey ? 'prev' : 'next');\n    } else if (e.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  return (\n    <div className=\"absolute top-2 right-8 z-30 bg-[#252526] border border-[#454545] shadow-2xl rounded flex items-center p-1 space-x-1 animate-in slide-in-from-top-2 duration-150\">\n      <div className=\"flex items-center bg-[#3c3c3c] border border-blue-500/30 rounded overflow-hidden min-w-[280px]\">\n        <input\n          ref={inputRef}\n          type=\"text\"\n          value={query}\n          onChange={(e) => onQueryChange(e.target.value)}\n          onKeyDown={handleKeyDown}\n          placeholder=\"\u67E5\u627E\"\n          className=\"bg-transparent text-white text-xs px-2 py-1 w-full focus:outline-none\"\n        />\n        \n        <div className=\"flex items-center pr-1 bg-[#3c3c3c]\">\n          <button\n            onClick={() => onConfigChange(prev => ({ ...prev, caseSensitive: !prev.caseSensitive }))}\n            className={`w-5 h-5 flex items-center justify-center rounded text-[10px] transition-colors ${config.caseSensitive ? 'bg-blue-600 text-white' : 'text-gray-400 hover:bg-[#555]'}`}\n            title=\"\u533A\u5206\u5927\u5C0F\u5199 (Alt+C)\"\n          >\n            Aa\n          </button>\n          <button\n            onClick={() => onConfigChange(prev => ({ ...prev, wholeWord: !prev.wholeWord }))}\n            className={`w-5 h-5 flex items-center justify-center rounded text-[10px] transition-colors ${config.wholeWord ? 'bg-blue-600 text-white' : 'text-gray-400 hover:bg-[#555]'}`}\n            title=\"\u5168\u5B57\u5339\u914D (Alt+W)\"\n          >\n            <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeWidth=\"3\" d=\"M3 12h18M3 6h18M3 18h18\"/></svg>\n          </button>\n          <button\n            onClick={() => onConfigChange(prev => ({ ...prev, regex: !prev.regex }))}\n            className={`w-5 h-5 flex items-center justify-center rounded text-[10px] transition-colors ${config.regex ? 'bg-blue-600 text-white' : 'text-gray-400 hover:bg-[#555]'}`}\n            title=\"\u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F (Alt+R)\"\n          >\n            .*\n          </button>\n        </div>\n      </div>\n\n      <div className=\"flex items-center px-2 border-r border-white/10 text-[10px] text-gray-500 font-mono min-w-[60px] justify-center\">\n        {matchCount > 0 ? `${currentMatch} / ${matchCount}` : '\u65E0\u7ED3\u679C'}\n      </div>\n\n      <div className=\"flex items-center\">\n        <button\n          onClick={() => onNavigate('prev')}\n          className=\"w-7 h-7 flex items-center justify-center text-gray-400 hover:text-white hover:bg-[#3c3c3c] rounded transition-colors\"\n          title=\"\u4E0A\u4E00\u4E2A\u5339\u914D\u9879 (Shift+Enter)\"\n        >\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2.5\" d=\"M5 15l7-7 7 7\"/></svg>\n        </button>\n        <button\n          onClick={() => onNavigate('next')}\n          className=\"w-7 h-7 flex items-center justify-center text-gray-400 hover:text-white hover:bg-[#3c3c3c] rounded transition-colors\"\n          title=\"\u4E0B\u4E00\u4E2A\u5339\u914D\u9879 (Enter)\"\n        >\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2.5\" d=\"M19 9l-7 7-7-7\"/></svg>\n        </button>\n        <button\n          onClick={onClose}\n          className=\"w-7 h-7 flex items-center justify-center text-gray-400 hover:text-white hover:bg-[#3c3c3c] rounded transition-colors ml-1\"\n          title=\"\u5173\u95ED (Escape)\"\n        >\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeWidth=\"3\" d=\"M6 18L18 6M6 6l12 12\"/></svg>\n        </button>\n      </div>\n    </div>\n  );\n};", "import React, { useState, useEffect, useRef } from 'react';\n\ninterface EditorGoToLineWidgetProps {\n  totalLines: number;\n  onGo: (line: number) => void;\n  onClose: () => void;\n}\n\nexport const EditorGoToLineWidget: React.FC<EditorGoToLineWidgetProps> = ({\n  totalLines,\n  onGo,\n  onClose,\n}) => {\n  const [value, setValue] = useState('');\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    inputRef.current?.focus();\n  }, []);\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      const lineNum = parseInt(value, 10);\n      if (!isNaN(lineNum) && lineNum > 0 && lineNum <= totalLines) {\n        onGo(lineNum);\n      }\n    } else if (e.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  const isValid = !value || (parseInt(value, 10) > 0 && parseInt(value, 10) <= totalLines);\n\n  return (\n    <div className=\"absolute top-0 left-1/2 -translate-x-1/2 z-40 w-[400px] animate-in slide-in-from-top-4 duration-150\">\n      <div className=\"bg-[#252526] shadow-2xl rounded-b border border-t-0 border-[#454545] p-2\">\n        <div className={`flex items-center bg-[#3c3c3c] border rounded overflow-hidden transition-colors ${isValid ? 'border-blue-500/50' : 'border-red-500'}`}>\n          <div className=\"px-2 text-gray-500 text-xs select-none\">:</div>\n          <input\n            ref={inputRef}\n            type=\"text\"\n            value={value}\n            onChange={(e) => setValue(e.target.value.replace(/[^0-9]/g, ''))}\n            onKeyDown={handleKeyDown}\n            placeholder={`\u8F93\u5165\u884C\u53F7 (1 \u5230 ${totalLines.toLocaleString()})`}\n            className=\"bg-transparent text-white text-xs px-1 py-1.5 w-full focus:outline-none\"\n          />\n        </div>\n        {!isValid && (\n          <div className=\"text-[10px] text-red-400 mt-1 px-1\">\n            \u884C\u53F7\u5FC5\u987B\u5728 1 \u5230 {totalLines.toLocaleString()} \u4E4B\u95F4\n          </div>\n        )}\n        <div className=\"mt-2 flex justify-between items-center px-1\">\n          <span className=\"text-[10px] text-gray-500 uppercase tracking-tighter font-bold\">\u8DF3\u8F6C\u5230\u884C</span>\n          <div className=\"flex space-x-2\">\n            <span className=\"text-[9px] text-gray-600 bg-black/20 px-1 rounded flex items-center\">\n              ENTER \u8DF3\u8F6C\n            </span>\n            <span className=\"text-[9px] text-gray-600 bg-black/20 px-1 rounded flex items-center\">\n              ESC \u53D6\u6D88\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};", "import React from 'react';\nimport { LayerPreset } from '../types';\n\nconst DEFAULT_PRESET_NAME = '\u9ED8\u8BA4\u9884\u8BBE';\n\ninterface PresetPanelProps {\n  presets: LayerPreset[];\n  onApply: (preset: LayerPreset) => void;\n  onDelete: (id: string) => void;\n}\n\nexport const PresetPanel: React.FC<PresetPanelProps> = ({ presets, onApply, onDelete }) => {\n  return (\n    <div className=\"p-4 flex flex-col h-full overflow-hidden\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h2 className=\"text-[11px] uppercase tracking-wider font-bold opacity-70\">\u5DF2\u5B58\u9884\u8BBE</h2>\n      </div>\n      \n      <div className=\"flex-1 overflow-y-auto space-y-2 custom-scrollbar pr-1\">\n        {presets.map(preset => {\n          const isDefault = preset.name === '\u9ED8\u8BA4\u9884\u8BBE' || preset.name === 'Default';\n          \n          return (\n            <div \n              key={preset.id} \n              className={`group relative border rounded p-3 transition-all cursor-pointer shadow-sm\n                ${isDefault \n                  ? 'bg-blue-900/10 border-blue-500/40 hover:bg-blue-900/20' \n                  : 'bg-[#3c3c3c] border-[#444] hover:border-blue-500 hover:bg-[#444]'\n                }`} \n              onClick={() => onApply(preset)}\n            >\n              <div className=\"flex items-center justify-between mb-1\">\n                <div className={`text-xs font-bold flex items-center ${isDefault ? 'text-blue-400' : 'text-gray-200 group-hover:text-blue-400'}`}>\n                  {preset.name}\n                  {isDefault && (\n                    <span className=\"ml-2 px-1 text-[8px] bg-blue-600 text-white rounded font-black tracking-tighter\">\u7CFB\u7EDF</span>\n                  )}\n                </div>\n              </div>\n              \n              <div className=\"text-[10px] text-gray-500 uppercase flex items-center space-x-2\">\n                <span>{preset.layers.length} \u4E2A\u56FE\u5C42</span>\n                <span>\u2022</span>\n                <span>{preset.layers.filter(l => l.type === 'FOLDER').length} \u4E2A\u6587\u4EF6\u5939</span>\n              </div>\n\n              {!isDefault && (\n                <button \n                  onClick={(e) => { e.stopPropagation(); onDelete(preset.id); }}\n                  className=\"absolute top-2 right-2 p-1 text-gray-600 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity\"\n                  title=\"\u5220\u9664\u9884\u8BBE\"\n                >\n                  <svg className=\"w-3.5 h-3.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeWidth=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"/>\n                  </svg>\n                </button>\n              )}\n              \n              {isDefault && (\n                <div className=\"absolute top-2 right-2 text-blue-500/40 opacity-0 group-hover:opacity-100 transition-opacity\">\n                  <svg className=\"w-3.5 h-3.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fillRule=\"evenodd\" d=\"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z\" clipRule=\"evenodd\" />\n                  </svg>\n                </div>\n              )}\n            </div>\n          );\n        })}\n        \n        {presets.length === 0 && (\n          <div className=\"text-center py-10 text-gray-600 italic text-[11px]\">\n            \u5C1A\u672A\u4FDD\u5B58\u4EFB\u4F55\u9884\u8BBE\u3002\n          </div>\n        )}\n      </div>\n\n      <div className=\"mt-4 p-2 bg-blue-500/5 border border-blue-500/10 rounded\">\n        <p className=\"text-[9px] text-gray-500 leading-relaxed\">\n          <span className=\"text-blue-400 font-bold\">\u4E13\u4E1A\u63D0\u793A:</span> \u66F4\u65B0 <span className=\"text-blue-400 font-bold\">\u9ED8\u8BA4\u9884\u8BBE</span> \u53EF\u66F4\u6539\u60A8\u7684\u542F\u52A8\u73AF\u5883\u3002\u7CFB\u7EDF\u9884\u8BBE\u662F\u6C38\u4E45\u6027\u7684\uFF0C\u4F46\u53EF\u4EE5\u5B8C\u5168\u81EA\u5B9A\u4E49\u3002\n        </p>\n      </div>\n    </div>\n  );\n};", "import React from 'react';\n\ninterface ExplorerPanelProps {\n  fileName: string;\n  fileSize: number;\n  onFileSelect: () => void;\n}\n\nexport const ExplorerPanel: React.FC<ExplorerPanelProps> = ({ fileName, fileSize, onFileSelect }) => {\n  const formatSize = (bytes: number) => {\n    if (bytes === 0) return '0 B';\n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\n  };\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      <div className=\"p-3 border-b border-[#111] flex justify-between items-center bg-[#2d2d2d] shrink-0\">\n        <h2 className=\"text-[10px] uppercase font-black opacity-40 tracking-wider\">\u8D44\u6E90\u7BA1\u7406\u5668</h2>\n      </div>\n      \n      <div className=\"flex-1 overflow-y-auto\">\n        <div className=\"mb-4\">\n          <div className=\"flex items-center px-4 py-1 bg-[#37373d] text-[11px] font-bold text-gray-400 uppercase tracking-tight cursor-default\">\n            <svg className=\"w-3 h-3 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\"><path fillRule=\"evenodd\" d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clipRule=\"evenodd\"/></svg>\n            \u6253\u5F00\u7684\u7F16\u8F91\u5668\n          </div>\n          <div className=\"px-6 py-2\">\n            {fileName ? (\n              <div className=\"flex items-center text-xs text-blue-400 hover:bg-[#2a2d2e] p-1 rounded cursor-pointer\">\n                <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeWidth=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"/></svg>\n                {fileName}\n              </div>\n            ) : (\n              <div className=\"text-[11px] text-gray-600 italic\">\u672A\u6253\u5F00\u4EFB\u4F55\u6587\u4EF6</div>\n            )}\n          </div>\n        </div>\n\n        <div>\n          <div className=\"flex items-center px-4 py-1 bg-[#37373d] text-[11px] font-bold text-gray-400 uppercase tracking-tight cursor-default\">\n            <svg className=\"w-3 h-3 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\"><path fillRule=\"evenodd\" d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clipRule=\"evenodd\"/></svg>\n            \u672C\u5730\u5DE5\u4F5C\u533A\n          </div>\n          <div className=\"px-4 py-2 space-y-2\">\n            {!fileName ? (\n              <div className=\"p-4 border border-dashed border-gray-700 rounded text-center\">\n                <p className=\"text-[10px] text-gray-500 mb-2\">\u5C1A\u672A\u6253\u5F00\u65E5\u5FD7\u6587\u4EF6\u3002</p>\n                <button \n                  onClick={onFileSelect}\n                  className=\"bg-blue-600 hover:bg-blue-500 text-white text-[11px] px-3 py-1 rounded shadow-lg transition-colors\"\n                >\n                  \u6253\u5F00\u6587\u4EF6\n                </button>\n              </div>\n            ) : (\n              <div className=\"text-[11px] space-y-1\">\n                <div className=\"flex justify-between text-gray-500\">\n                  <span>\u5927\u5C0F:</span>\n                  <span className=\"text-gray-300\">{formatSize(fileSize)}</span>\n                </div>\n                <div className=\"flex justify-between text-gray-500\">\n                  <span>\u72B6\u6001:</span>\n                  <span className=\"text-green-500\">\u5DF2\u52A0\u8F7D</span>\n                </div>\n                <div className=\"pt-4\">\n                  <button \n                    onClick={onFileSelect}\n                    className=\"w-full text-center text-blue-500 hover:text-blue-400 border border-blue-500/30 py-1 rounded transition-colors\"\n                  >\n                    \u6253\u5F00\u53E6\u4E00\u4E2A...\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};", "import React from 'react';\n\nexport const HelpPanel: React.FC = () => {\n  return (\n    <div className=\"p-8 flex flex-col h-full overflow-y-auto custom-scrollbar bg-[#1e1e1e] text-gray-300 select-text\">\n      <div className=\"max-w-4xl mx-auto\">\n        <header className=\"mb-10 border-b border-white/10 pb-6\">\n          <h2 className=\"text-2xl font-black text-blue-400 mb-2 flex items-center tracking-tight\">\n            <svg className=\"w-8 h-8 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeWidth=\"2.5\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" /></svg>\n            \u5F00\u53D1\u8005\u4E2D\u5FC3: \u56FE\u5C42\u67B6\u6784\u4E0E Linux \u90E8\u7F72\n          </h2>\n          <p className=\"text-sm text-gray-500 leading-relaxed\">\n            \u6B22\u8FCE\u9605\u8BFB LogLayer Pro \u6269\u5C55\u6307\u5357\u3002\u6211\u4EEC\u7684\u5E94\u7528\u91C7\u7528\u4E86\u53D7 Photoshop \u8C03\u6574\u56FE\u5C42\u542F\u53D1\u7684 <b>\u975E\u7834\u574F\u6027\u7BA1\u9053 (Non-Destructive Pipeline)</b>\u3002\n            \u6BCF\u4E2A\u56FE\u5C42\u90FD\u4F5C\u4E3A\u4E00\u4E2A\u5904\u7406\u6570\u636E\u6D41\u7684\u7EAF\u51FD\u6570\u8FD0\u884C\u3002\n          </p>\n        </header>\n        \n        <div className=\"space-y-12 pb-20\">\n          {/* Linux Deployment Section */}\n          <section className=\"bg-green-900/10 border border-green-500/20 p-6 rounded-lg\">\n            <h3 className=\"text-sm font-black text-green-400 mb-4 flex items-center uppercase tracking-widest\">\n              <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeWidth=\"2.5\" d=\"M5 12h14M5 12l4-4m-4 4l4 4\" /></svg>\n              Linux \u65E0 NPM \u73AF\u5883\u90E8\u7F72\u6307\u5357\n            </h3>\n            <div className=\"space-y-4 text-xs text-gray-400\">\n              <p>\u9488\u5BF9\u6CA1\u6709 Node.js \u73AF\u5883\u7684 Linux \u670D\u52A1\u5668\uFF0C\u6211\u4EEC\u63D0\u4F9B\u4E86\u4E00\u4E2A\u81EA\u52A8\u5316\u6253\u5305\u811A\u672C <code className=\"text-green-400\">package.sh</code>\u3002</p>\n              <div className=\"bg-black/40 p-4 rounded font-mono text-[11px] border border-white/5 space-y-2\">\n                <div className=\"text-gray-500\"># \u5728\u5F00\u53D1\u673A\uFF08\u6709\u7F51\u7EDC\uFF09\u8FD0\u884C</div>\n                <div className=\"text-white\">bash package.sh</div>\n                <div className=\"text-gray-500\"># \u8FD9\u5C06\u751F\u6210 dist_linux \u6587\u4EF6\u5939</div>\n                <div className=\"text-white\">scp -r dist_linux user@your-linux-server:~/</div>\n                <div className=\"text-gray-500\"># \u5728\u76EE\u6807 Linux \u4E0A\u542F\u52A8</div>\n                <div className=\"text-white\">cd dist_linux && ./run.sh</div>\n              </div>\n              <ul className=\"list-disc pl-5 space-y-2\">\n                <li><strong className=\"text-gray-200\">\u81EA\u5305\u542B\u7F16\u8BD1\u5668\uFF1A</strong> \u811A\u672C\u4F1A\u81EA\u52A8\u4E0B\u8F7D <code className=\"text-blue-400\">esbuild</code> \u4E8C\u8FDB\u5236\u6587\u4EF6\uFF0C\u4E0D\u4F9D\u8D56\u7CFB\u7EDF\u4E2D\u7684 Node.js \u6216 NPM\u3002</li>\n                <li><strong className=\"text-gray-200\">\u901A\u7528\u542F\u52A8\u5668\uFF1A</strong> <code className=\"text-yellow-500\">run.sh</code> \u4F7F\u7528 Linux \u9884\u88C5\u7684 Python \u542F\u52A8 Web \u670D\u52A1\u3002</li>\n                <li><strong className=\"text-gray-200\">\u9759\u6001\u8D44\u6E90\u4F18\u5316\uFF1A</strong> \u6253\u5305\u540E\u7684 <code className=\"text-teal-400\">bundle.js</code> \u5DF2\u8FC7\u6DF7\u6DC6\u548C\u538B\u7F29\uFF0C\u9002\u5408\u5904\u7406 GB \u7EA7\u65E5\u5FD7\u65F6\u7684\u5185\u5B58\u6548\u7387\u3002</li>\n              </ul>\n            </div>\n          </section>\n\n          <section className=\"bg-[#252526] p-6 rounded-lg border border-white/5 shadow-xl\">\n            <h3 className=\"text-xs font-black uppercase text-blue-500 mb-4 tracking-widest flex items-center\">\n              <span className=\"w-2 h-2 bg-blue-500 rounded-full mr-2\"></span>\n              \u6838\u5FC3\u6982\u5FF5\uFF1A\u5904\u7406\u7BA1\u9053\n            </h3>\n            <div className=\"flex items-start space-x-6\">\n              <div className=\"flex-1 text-xs leading-relaxed space-y-3\">\n                <p>\n                  \u65E5\u5FD7\u6D41\u7ECF\u4E00\u7CFB\u5217\u542F\u7528\u7684\u56FE\u5C42\u3002 <span className=\"text-blue-400 font-mono\">\u56FE\u5C42 N</span> \u7684\u8F93\u51FA\u662F \n                  <span className=\"text-blue-400 font-mono\">\u56FE\u5C42 N+1</span> \u7684\u8F93\u5165\u3002\n                </p>\n                <div className=\"bg-black/40 p-3 rounded font-mono text-[10px] text-gray-400 border border-white/5\">\n                  \u539F\u59CB\u65E5\u5FD7 (\u5B57\u7B26\u4E32) \u2192 \u5BF9\u8C61\u5316 \u2192 [ \u8FC7\u6EE4 ] \u2192 [ \u8F6C\u6362 ] \u2192 [ \u9AD8\u4EAE ] \u2192 \u865A\u62DF\u5316\u89C6\u56FE\n                </div>\n              </div>\n            </div>\n          </section>\n\n          <section className=\"space-y-6\">\n            <h3 className=\"text-sm font-black uppercase text-gray-500 tracking-widest\">\u6269\u5C55\u5DE5\u4F5C\u6D41</h3>\n            \n            <div className=\"relative pl-8 border-l-2 border-white/5 space-y-10\">\n              <div className=\"relative\">\n                <div className=\"absolute -left-[41px] top-0 w-6 h-6 rounded-full bg-[#333] border-2 border-[#1e1e1e] flex items-center justify-center text-[10px] font-bold\">1</div>\n                <h4 className=\"text-xs font-bold text-gray-200 mb-2\">\u5B9A\u4E49 Schema</h4>\n                <p className=\"text-[11px] text-gray-500 mb-3\">\u5728 <code className=\"text-teal-400\">types.ts</code> \u4E2D\u6DFB\u52A0\u65B0\u7684\u56FE\u5C42\u7C7B\u578B\u548C\u914D\u7F6E\u952E\u3002</p>\n                <pre className=\"bg-black/50 p-4 rounded font-mono text-[11px] text-teal-400 border border-white/5\">\n{`export enum LayerType {\n  MY_CUSTOM_LOGIC = 'MY_CUSTOM_LOGIC',\n}\n\nexport interface LayerConfig {\n  myParameter?: string; // \u5728\u6B64\u5904\u6DFB\u52A0\u81EA\u5B9A\u4E49\u5B57\u6BB5\n}`}\n                </pre>\n              </div>\n\n              <div className=\"relative\">\n                <div className=\"absolute -left-[41px] top-0 w-6 h-6 rounded-full bg-[#333] border-2 border-[#1e1e1e] flex items-center justify-center text-[10px] font-bold\">2</div>\n                <h4 className=\"text-xs font-bold text-gray-200 mb-2\">\u5B9E\u73B0\u5904\u7406\u5668 (Processor)</h4>\n                <p className=\"text-[11px] text-gray-500 mb-3\">\u521B\u5EFA <code className=\"text-blue-400\">processors/myProcessor.ts</code>\u3002\u8FD9\u662F\u6267\u884C\u6838\u5FC3\u8BA1\u7B97\u7684\u5730\u65B9\u3002</p>\n                <pre className=\"bg-black/50 p-4 rounded font-mono text-[11px] text-blue-300 border border-white/5 overflow-x-auto\">\n{`import { LogProcessor, LogLine } from '../types';\n\nexport const myProcessor: LogProcessor = (lines, layer, chunkSize) => {\n  const { myParameter } = layer.config;\n  const distribution = new Array(20).fill(0);\n  let matchCount = 0;\n\n  const processedLines: LogLine[] = [];\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i];\n    if (line.content.includes(myParameter)) {\n      matchCount++;\n      distribution[Math.floor(i / chunkSize)]++;\n      processedLines.push(line);\n    }\n  }\n\n  return { processedLines, stats: { count: matchCount, distribution } };\n};`}\n                </pre>\n              </div>\n            </div>\n          </section>\n\n          <section className=\"bg-blue-900/10 border border-blue-500/20 p-6 rounded-lg\">\n            <h3 className=\"text-sm font-black text-blue-400 mb-4 flex items-center uppercase tracking-widest\">\n              <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeWidth=\"2.5\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg>\n              \u9AD8\u6027\u80FD\u5F00\u53D1\u6307\u5357 (\u5927\u6570\u636E\u91CF)\n            </h3>\n            <ul className=\"text-xs space-y-3 text-gray-400 list-disc pl-4\">\n              <li>\n                <strong className=\"text-gray-200\">\u5904\u7406\u8D85\u8FC7 100 \u4E07\u884C\u65F6\u907F\u514D\u4F7F\u7528 Array.map/filter\uFF1A</strong> \u5BF9\u4E8E\u6D77\u91CF\u65E5\u5FD7\uFF0C\u8BF7\u4F7F\u7528\u7ECF\u5178\u7684 <code className=\"text-yellow-600\">for(let i=0...)</code> \u5FAA\u73AF\u3002\n              </li>\n              <li>\n                <strong className=\"text-gray-200\">\u975E\u963B\u585E UI\uFF1A</strong> \u5728\u5904\u7406\u5668\u5185\u90E8\u4F7F\u7528 <code className=\"text-blue-400\">taskId</code> \u68C0\u67E5\uFF0C\u5982\u679C\u7528\u6237\u4E2D\u9014\u66F4\u6539\u53C2\u6570\uFF0C\u5219\u4E2D\u6B62\u8FD0\u884C\u65F6\u95F4\u8FC7\u957F\u7684\u4EFB\u52A1\u3002\n              </li>\n            </ul>\n          </section>\n\n          <footer className=\"text-center pt-10 opacity-30\">\n            <div className=\"text-[10px] font-mono tracking-widest uppercase\">\n              LogLayer Pro \u5F15\u64CE v2.4 \u2022 \u975E\u7834\u574F\u6027\u65E5\u5FD7\u5206\u6790\u7CFB\u7EDF\n            </div>\n          </footer>\n        </div>\n      </div>\n    </div>\n  );\n};", "import React from 'react';\n\ninterface StatusBarProps {\n  lines: number;\n  totalLines: number;\n  size: number;\n  isProcessing?: boolean;\n}\n\nexport const StatusBar: React.FC<StatusBarProps> = ({ lines, totalLines, size, isProcessing }) => {\n  const formatSize = (bytes: number) => {\n    if (bytes === 0) return '0 B';\n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\n  };\n\n  return (\n    <div className=\"h-6 bg-blue-700 text-white flex items-center justify-between px-3 text-[11px] font-medium shrink-0\">\n      <div className=\"flex items-center space-x-4\">\n        <div className=\"flex items-center space-x-1 cursor-pointer hover:bg-blue-600 px-1 rounded\">\n          <svg className={`w-3 h-3 ${isProcessing ? 'animate-spin' : ''}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n          </svg>\n          <span>{isProcessing ? '\u6B63\u5728\u6D41\u5F0F\u5904\u7406\u6570\u636E...' : '\u5C31\u7EEA'}</span>\n        </div>\n        <div className=\"hover:bg-blue-600 px-1 cursor-pointer\">UTF-8</div>\n      </div>\n      <div className=\"flex items-center space-x-6\">\n        <div>\u53EF\u89C1: {lines.toLocaleString()} / \u603B\u8BA1: {totalLines.toLocaleString()}</div>\n        <div>\u5927\u5C0F: {formatSize(size)}</div>\n        <div className=\"hover:bg-blue-600 px-1 cursor-pointer\">Tab \u7F29\u8FDB: 2</div>\n        <div className=\"hover:bg-blue-600 px-1 cursor-pointer\">\u884C 1, \u5217 1</div>\n      </div>\n    </div>\n  );\n};", "import { LogProcessor, LogLine, LayerStats } from '../types';\n\nexport const filterProcessor: LogProcessor = (lines, layer, chunkSize) => {\n  const { query, regex, caseSensitive, invert, wholeWord } = layer.config;\n  const distribution = new Array(20).fill(0);\n  let matchCount = 0;\n\n  if (!query) {\n    return { processedLines: lines, stats: { count: 0, distribution } };\n  }\n\n  let re: RegExp | null = null;\n  try {\n    let pattern = regex ? query : query.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    if (wholeWord) {\n      pattern = `\\\\b${pattern}\\\\b`;\n    }\n    re = new RegExp(pattern, caseSensitive ? '' : 'i');\n  } catch (e) {\n    return { processedLines: lines, stats: { count: 0, distribution } };\n  }\n\n  // \u9AD8\u6027\u80FD\u8FC7\u6EE4\uFF1A\u9884\u5206\u914D\u6570\u7EC4\uFF0C\u907F\u514D\u9891\u7E41\u6269\u5BB9\n  const processedLines: LogLine[] = [];\n  const total = lines.length;\n  \n  for (let i = 0; i < total; i++) {\n    const line = lines[i];\n    const content = typeof line === 'string' ? line : line.content;\n    const matches = re.test(content);\n    const keep = invert ? !matches : matches;\n    \n    if (keep) {\n      matchCount++;\n      distribution[Math.floor(i / chunkSize)]++;\n      // \u5982\u679C\u8F93\u5165\u662F\u539F\u59CB\u5B57\u7B26\u4E32\uFF0C\u8FD9\u91CC\u8FDB\u884C\u5BF9\u8C61\u5316\n      if (typeof line === 'string') {\n          processedLines.push({ index: i, content: line });\n      } else {\n          processedLines.push(line);\n      }\n    }\n  }\n\n  return { processedLines, stats: { count: matchCount, distribution } };\n};", "import { LogProcessor, LogLine, LayerStats } from '../types';\n\nexport const highlightProcessor: LogProcessor = (lines, layer, chunkSize) => {\n  const { query, regex, caseSensitive, wholeWord, color = '#3b82f6', opacity = 100 } = layer.config;\n  const distribution = new Array(20).fill(0);\n  let matchCount = 0;\n\n  if (!query) {\n    return { processedLines: lines, stats: { count: 0, distribution } };\n  }\n\n  let re: RegExp;\n  try {\n    let pattern = regex ? query : query.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    if (wholeWord) {\n      pattern = `\\\\b${pattern}\\\\b`;\n    }\n    re = new RegExp(pattern, caseSensitive ? 'g' : 'gi');\n  } catch (e) {\n    return { processedLines: lines, stats: { count: 0, distribution } };\n  }\n\n  const processedLines = lines.map((line, i) => {\n    const matches = Array.from(line.content.matchAll(re));\n    if (matches.length > 0) {\n      matchCount += matches.length;\n      distribution[Math.floor(i / chunkSize)]++;\n      const highlights = matches.map(m => ({ \n        start: m.index || 0, \n        end: (m.index || 0) + m[0].length, \n        color, \n        opacity \n      }));\n      return { ...line, highlights: [...(line.highlights || []), ...highlights] };\n    }\n    return line;\n  });\n\n  return { processedLines, stats: { count: matchCount, distribution } };\n};", "import { LogProcessor, LogLine, LayerStats } from '../types';\n\nexport const rangeProcessor: LogProcessor = (lines, layer, chunkSize) => {\n  const { from, to } = layer.config;\n  const distribution = new Array(20).fill(0);\n  let matchCount = 0;\n\n  if (from === undefined && to === undefined) {\n    return { processedLines: lines, stats: { count: 0, distribution } };\n  }\n\n  const processedLines = lines.filter((line, i) => {\n    const lineNum = line.index + 1;\n    const start = from !== undefined ? from : 1;\n    const end = to !== undefined ? to : Infinity;\n    const matches = lineNum >= start && lineNum <= end;\n    if (matches) {\n      matchCount++;\n      distribution[Math.floor(i / chunkSize)]++;\n    }\n    return matches;\n  });\n\n  return { processedLines, stats: { count: matchCount, distribution } };\n};", "import { LogProcessor, LogLine, LayerStats } from '../types';\n\nexport const timeRangeProcessor: LogProcessor = (lines, layer, chunkSize) => {\n  const { startTime, endTime, timeFormat } = layer.config;\n  const distribution = new Array(20).fill(0);\n  let matchCount = 0;\n\n  if (!startTime && !endTime) {\n    return { processedLines: lines, stats: { count: 0, distribution } };\n  }\n\n  // 1. \u667A\u80FD\u65F6\u95F4\u89E3\u6790\u5668\uFF1A\u652F\u6301\u6570\u5B57(0.000217)\u548C\u65E5\u671F\u5B57\u7B26\u4E32\n  const parseVal = (s: string | undefined): number => {\n    if (!s) return NaN;\n    const trimmed = s.trim();\n    // \u5982\u679C\u662F\u7EAF\u6570\u5B57\uFF08\u53EF\u9009\u5C0F\u6570\u70B9\uFF09\uFF0C\u76F4\u63A5\u8F6C\u4E3A float\n    if (/^-?\\d*(\\.\\d+)?$/.test(trimmed)) {\n      return parseFloat(trimmed);\n    }\n    // \u5426\u5219\u5C1D\u8BD5\u89E3\u6790\u4E3A\u65E5\u671F\n    const d = new Date(trimmed).getTime();\n    return d;\n  };\n\n  const startThreshold = startTime ? parseVal(startTime) : -Infinity;\n  const endThreshold = endTime ? parseVal(endTime) : Infinity;\n\n  // 2. \u6B63\u5219\u8868\u8FBE\u5F0F\u51C6\u5907\n  let timeRegex: RegExp;\n  try {\n    // \u9ED8\u8BA4\u6B63\u5219\u652F\u6301 ISO \u6216 [ 0.123] \u683C\u5F0F\n    timeRegex = timeFormat ? new RegExp(timeFormat) : /(?:\\d{4}-\\d{2}-\\d{2}[T\\s]\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?Z?)|(?:\\d+\\.\\d+)/;\n  } catch (e) {\n    timeRegex = /\\d+\\.\\d+/;\n  }\n\n  const processedLines = lines.filter((line, i) => {\n    const match = line.content.match(timeRegex);\n    if (!match) return false;\n\n    // \u63D0\u53D6\u65F6\u95F4\u5B57\u7B26\u4E32\uFF1A\u4F18\u5148\u53D6\u7B2C\u4E00\u4E2A\u6355\u83B7\u7EC4\uFF0C\u5426\u5219\u53D6\u5168\u6587\n    const rawTimeStr = match[1] || match[0];\n    if (!rawTimeStr) return false;\n\n    // \u6E05\u6D17\uFF1A\u79FB\u9664\u5E38\u89C1\u7684\u65E5\u5FD7\u5305\u88F9\u7B26\u5982 [ ]\n    const cleanedStr = rawTimeStr.replace(/[\\[\\]]/g, '').trim();\n    \n    // \u89E3\u6790\u5F53\u524D\u884C\u7684\u65F6\u95F4/\u503C\n    let currentVal: number;\n    if (/^-?\\d*(\\.\\d+)?$/.test(cleanedStr)) {\n      currentVal = parseFloat(cleanedStr);\n    } else {\n      // \u9488\u5BF9\u65E5\u671F\u683C\u5F0F\u8FDB\u884C\u6807\u51C6\u5316 (\u7A7A\u683C\u8F6C T)\n      const isoReady = cleanedStr.replace(/^(\\d{4}-\\d{2}-\\d{2})\\s/, '$1T');\n      currentVal = new Date(isoReady).getTime();\n    }\n\n    if (isNaN(currentVal)) return false;\n\n    const isMatch = currentVal >= startThreshold && currentVal <= endThreshold;\n    if (isMatch) {\n      matchCount++;\n      distribution[Math.floor(i / chunkSize)]++;\n    }\n    return isMatch;\n  });\n\n  return { processedLines, stats: { count: matchCount, distribution } };\n};", "import { LogProcessor, LogLine, LayerStats } from '../types';\n\nexport const levelProcessor: LogProcessor = (lines, layer, chunkSize) => {\n  const { levels = [] } = layer.config;\n  const distribution = new Array(20).fill(0);\n  let matchCount = 0;\n\n  if (!levels.length) {\n    return { processedLines: lines, stats: { count: 0, distribution } };\n  }\n\n  const levelRegex = new RegExp(`\\\\b(${levels.join('|')})\\\\b`, 'i');\n\n  const processedLines = lines.filter((line, i) => {\n    const matches = levelRegex.test(line.content);\n    if (matches) {\n      matchCount++;\n      distribution[Math.floor(i / chunkSize)]++;\n    }\n    return matches;\n  });\n\n  return { processedLines, stats: { count: matchCount, distribution } };\n};", "import { LogProcessor, LogLine, LayerStats } from '../types';\n\nexport const transformProcessor: LogProcessor = (lines, layer, chunkSize) => {\n  const { query, replaceWith = '', regex = true, caseSensitive = false, wholeWord = false } = layer.config;\n  const distribution = new Array(20).fill(0);\n  let matchCount = 0;\n\n  if (!query) {\n    return { processedLines: lines, stats: { count: 0, distribution } };\n  }\n\n  let re: RegExp;\n  try {\n    let pattern = regex ? query : query.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    if (wholeWord) {\n      pattern = `\\\\b${pattern}\\\\b`;\n    }\n    re = new RegExp(pattern, caseSensitive ? 'g' : 'gi');\n  } catch (e) {\n    return { processedLines: lines, stats: { count: 0, distribution } };\n  }\n\n  const processedLines = lines.map((line, i) => {\n    const currentText = line.displayContent || line.content;\n    const matches = currentText.match(re);\n\n    if (matches) {\n      matchCount += matches.length;\n      distribution[Math.floor(i / chunkSize)]++;\n      const newContent = currentText.replace(re, replaceWith);\n      return { ...line, displayContent: newContent };\n    }\n    return line;\n  });\n\n  return { processedLines, stats: { count: matchCount, distribution } };\n};", "import { LayerType, LogProcessor } from '../types';\nimport { filterProcessor } from './filterProcessor';\nimport { highlightProcessor } from './highlightProcessor';\nimport { rangeProcessor } from './rangeProcessor';\nimport { timeRangeProcessor } from './timeRangeProcessor';\nimport { levelProcessor } from './levelProcessor';\nimport { transformProcessor } from './transformProcessor';\n\nexport const PROCESSORS: Partial<Record<LayerType, LogProcessor>> = {\n  [LayerType.FILTER]: filterProcessor,\n  [LayerType.HIGHLIGHT]: highlightProcessor,\n  [LayerType.RANGE]: rangeProcessor,\n  [LayerType.TIME_RANGE]: timeRangeProcessor,\n  [LayerType.LEVEL]: levelProcessor,\n  [LayerType.TRANSFORM]: transformProcessor,\n};\n\nexport const processLayer = (lines: any[], layer: any, chunkSize: number) => {\n  const processor = PROCESSORS[layer.type as LayerType];\n  if (processor) {\n    return processor(lines, layer, chunkSize);\n  }\n  // Default for FOLDER or unsupported types\n  return { \n    processedLines: lines, \n    stats: { count: 0, distribution: new Array(20).fill(0) } \n  };\n};"],
  "mappings": "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",
  "names": ["React", "createRoot", "useState", "useMemo", "useEffect", "useCallback", "useRef", "jsx", "jsxs", "Sidebar", "activeView", "onSetActiveView", "item", "useRef", "useState", "useEffect", "jsx", "jsxs", "LogViewer", "lines", "searchQuery", "searchConfig", "scrollToIndex", "highlightedIndex", "onLineClick", "containerRef", "scrollTop", "setScrollTop", "viewportHeight", "setViewportHeight", "lineHeight", "buffer", "handleResize", "targetLine", "targetScroll", "startIndex", "endIndex", "visibleLines", "renderLine", "line", "content", "sorted", "a", "b", "elements", "lastIndex", "i", "h", "opacity", "end", "e", "idx", "absoluteIdx", "isHighlighted", "React", "useState", "jsx", "jsxs", "SearchInput", "value", "onChange", "config", "onConfigChange", "placeholder", "onMouseEnter", "onMouseLeave", "e", "jsx", "jsxs", "LayersPanel", "layers", "stats", "rawCounts", "selectedId", "onSelect", "onRemove", "onToggle", "onUpdate", "onDrop", "onJumpToLine", "dragOverId", "setDragOverId", "useState", "draggedLayerId", "setDraggedLayerId", "dropPosition", "setDropPosition", "editingId", "setEditingId", "isInputHovered", "setIsInputHovered", "hoveredLayerId", "setHoveredLayerId", "tooltipPos", "setTooltipPos", "handleDragStart", "id", "target", "handleDragEnd", "handleDragOver", "type", "rect", "y", "handleDropLocal", "targetId", "draggedId", "getLayerIcon", "layer", "handleMouseMove", "renderLayerCard", "depth", "isSelected", "isDragOver", "isDragging", "isFolder", "isEditing", "parent", "l", "effectivelyDisabled", "layerColor", "layerCount", "e", "v", "i", "SearchInput", "val", "cfg", "level", "current", "next", "renderRecursive", "parentId", "React", "StatsTooltip", "layerStats", "style", "useState", "useEffect", "useRef", "jsx", "jsxs", "SearchPanel", "onSearch", "config", "setConfig", "matchCount", "currentIndex", "onNavigate", "inputValue", "setInputValue", "inputRef", "handleKeyDown", "e", "clearSearch", "prev", "useRef", "useEffect", "jsx", "jsxs", "EditorFindWidget", "query", "onQueryChange", "config", "onConfigChange", "matchCount", "currentMatch", "onNavigate", "onClose", "inputRef", "e", "prev", "useState", "useEffect", "useRef", "jsx", "jsxs", "EditorGoToLineWidget", "totalLines", "onGo", "onClose", "value", "setValue", "inputRef", "handleKeyDown", "e", "lineNum", "isValid", "jsx", "jsxs", "PresetPanel", "presets", "onApply", "onDelete", "jsxs", "jsx", "preset", "isDefault", "l", "e", "jsx", "jsxs", "ExplorerPanel", "fileName", "fileSize", "onFileSelect", "bytes", "k", "sizes", "i", "jsx", "jsxs", "HelpPanel", "jsx", "jsxs", "StatusBar", "lines", "totalLines", "size", "isProcessing", "formatSize", "bytes", "k", "sizes", "i", "filterProcessor", "lines", "layer", "chunkSize", "query", "regex", "caseSensitive", "invert", "wholeWord", "distribution", "matchCount", "re", "pattern", "processedLines", "total", "i", "line", "content", "matches", "highlightProcessor", "lines", "layer", "chunkSize", "query", "regex", "caseSensitive", "wholeWord", "color", "opacity", "distribution", "matchCount", "re", "pattern", "line", "i", "matches", "highlights", "m", "rangeProcessor", "lines", "layer", "chunkSize", "from", "to", "distribution", "matchCount", "line", "i", "lineNum", "start", "end", "matches", "timeRangeProcessor", "lines", "layer", "chunkSize", "startTime", "endTime", "timeFormat", "distribution", "matchCount", "parseVal", "s", "trimmed", "startThreshold", "endThreshold", "timeRegex", "line", "i", "match", "rawTimeStr", "cleanedStr", "currentVal", "isoReady", "isMatch", "levelProcessor", "lines", "layer", "chunkSize", "levels", "distribution", "matchCount", "levelRegex", "line", "i", "matches", "transformProcessor", "lines", "layer", "chunkSize", "query", "replaceWith", "regex", "caseSensitive", "wholeWord", "distribution", "matchCount", "re", "pattern", "line", "i", "currentText", "matches", "newContent", "PROCESSORS", "filterProcessor", "highlightProcessor", "rangeProcessor", "timeRangeProcessor", "levelProcessor", "transformProcessor", "processLayer", "lines", "layer", "chunkSize", "processor", "Fragment", "jsx", "jsxs", "DEFAULT_PRESET_ID", "MAX_HISTORY", "App", "activeView", "setActiveView", "useState", "selectedLayerId", "setSelectedLayerId", "saveStatus", "setSaveStatus", "scrollToIndex", "setScrollToIndex", "highlightedIndex", "setHighlightedIndex", "isFindVisible", "setIsFindVisible", "isGoToLineVisible", "setIsGoToLineVisible", "rawLogs", "setRawLogs", "processedLogs", "setProcessedLogs", "layerStats", "setLayerStats", "rawStats", "setRawStats", "layers", "setLayersInternal", "past", "setPast", "future", "setFuture", "presets", "setPresets", "fileName", "setFileName", "fileSize", "setFileSize", "loadingProgress", "setLoadingProgress", "isProcessing", "setIsProcessing", "isLayerProcessing", "setIsLayerProcessing", "searchQuery", "setSearchQuery", "searchConfig", "setSearchConfig", "currentMatchIndex", "setCurrentMatchIndex", "loadingAbortController", "useRef", "processingTaskId", "updateLayers", "useCallback", "updater", "skipHistory", "prev", "next", "p", "undo", "previous", "current", "f", "redo", "useEffect", "handleKeyDown", "e", "isZ", "isY", "isF", "isG", "isCmdOrCtrl", "isShift", "selection", "firstLine", "saved", "initialPresets", "defaultPreset", "handleFileUpload", "event", "file", "reader", "decoder", "partialLine", "loadedBytes", "batchSize", "currentBatch", "done", "value", "chunk", "lines", "i", "resolve", "err", "runAsyncProcessing", "currentRawLogs", "currentLayers", "currentSearchQuery", "currentSearchConfig", "taskId", "stats", "rawCounts", "l", "pipelineLayers", "searchLayerId", "activeLayers", "parent", "activeLines", "isObjectified", "layer", "startTime", "source", "totalToProcess", "newLines", "step", "end", "j", "r", "input", "c", "chunkSize", "processedLines", "layerResult", "processLayer", "maxDist", "v", "finalLines", "debounceTime", "timer", "addLayer", "type", "newId", "parentId", "selected", "newLayer", "handleDrop", "draggedId", "targetId", "position", "draggedIdx", "draggedLayer", "targetIdx", "finalIdx", "handleJumpToLine", "index", "total", "boundedIndex", "handleLogViewerInteraction", "findNextSearchMatch", "direction", "re", "pattern", "startIndex", "nextIdx", "handleSavePreset", "presetName", "existingIdx", "newPreset", "activeStats", "useMemo", "searchMatchCount", "currentMatchNumber", "count", "Sidebar", "ExplorerPanel", "LayersPanel", "id", "update", "SearchPanel", "PresetPanel", "HelpPanel", "EditorFindWidget", "EditorGoToLineWidget", "lineNum", "LogViewer", "layerId", "d", "StatusBar", "App_default", "jsx", "rootElement", "root", "createRoot", "React", "App_default"]
}
